/*! For license information please see tf-backend-wasm.min.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@tensorflow/tfjs-core"),require("fs"),require("path"),require("perf_hooks"),require("os")):"function"==typeof define&&define.amd?define(["exports","@tensorflow/tfjs-core","fs","path","perf_hooks","os"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).tf=e.tf||{},e.tf.wasm=e.tf.wasm||{}),e.tf,e.fs,e.path,e.perf_hooks,e.require$$4)}(this,(function(e,n,t,a,r,u){"use strict";function i(e,n){return n.forEach((function(n){n&&"string"!=typeof n&&!Array.isArray(n)&&Object.keys(n).forEach((function(t){if("default"!==t&&!(t in e)){var a=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,a.get?a:{enumerable:!0,get:function(){return n[t]}})}}))})),e}var s,o,d,p=function(e,n){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},p(e,n)};function l(e,n,t,a){return new(t||(t=Promise))((function(r,u){function i(e){try{o(a.next(e))}catch(e){u(e)}}function s(e){try{o(a.throw(e))}catch(e){u(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}o((a=a.apply(e,n||[])).next())}))}function c(e,n){var t,a,r,u,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function s(u){return function(s){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,a&&(r=2&u[0]?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,a=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(e){u=[6,e],a=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}function m(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,u=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(a=u.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}return i}function h(e,n,t){if(t||2===arguments.length)for(var a,r=0,u=n.length;r<u;r++)!a&&r in n||(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(s||(s={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(o||(o={}));var b={kernelName:n._FusedMatMul,backendName:"wasm",setupFunc:function(e){d=e.wasm.cwrap(n._FusedMatMul,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.a,i=t.b,s=t.bias,p=t.preluActivationWeights;if("float32"!==u.dtype||"float32"!==i.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");var l=r.transposeA,c=r.transposeB,m=r.activation,b=r.leakyreluAlpha,y=a.dataIdMap.get(u.dataId).id,_=a.dataIdMap.get(i.dataId).id,g=0;if(null!=s){var k=a.dataIdMap.get(s.dataId);if(1!==k.shape.length)throw new Error("_FusedMatMul only supports rank-1 bias but got "+"rank ".concat(k.shape.length,"."));g=k.id}var v=null==p?0:a.dataIdMap.get(p.dataId).id,I=o[m];if(null==I)throw new Error("".concat(m," activation not yet supported for FusedConv2D ")+"in the wasm backend.");var w=l?u.shape[2]:u.shape[1],S=c?i.shape[1]:i.shape[2],M=n.broadcast_util.assertAndGetBroadcastShape(u.shape.slice(0,-2),i.shape.slice(0,-2)),A=a.makeOutput(h(h([],f(M),!1),[w,S],!1),u.dtype),x=a.dataIdMap.get(A.dataId).id,F=new Uint8Array(new Int32Array(u.shape).buffer),N=new Uint8Array(new Int32Array(i.shape).buffer);return d(y,F,u.shape.length,_,N,i.shape.length,l,c,I,g,v,b||0,x),A}};function y(e,t){var a;return{kernelName:e,backendName:"wasm",setupFunc:function(n){a=n.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){var r=e.backend,u=e.inputs.x,i=r.dataIdMap.get(u.dataId).id,o=r.makeOutput(u.shape,t||u.dtype),d=r.dataIdMap.get(o.dataId).id;return 0===n.util.sizeFromShape(o.shape)||a(i,s[u.dtype],d),o}}}var _=y(n.Abs),g=y(n.Acos),k=y(n.Acosh);function v(e,t,a){var r;return{kernelName:e,backendName:"wasm",setupFunc:function(n){r=n.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){var t=e.backend,u=e.inputs,i=u.a,o=u.b,d=t.dataIdMap.get(i.dataId).id,p=t.dataIdMap.get(o.dataId).id,l=null!=a?a:i.dtype,c=n.backend_util.assertAndGetBroadcastShape(i.shape,o.shape),m=t.makeOutput(c,l);if(0===n.util.sizeFromShape(c))return m;var f=new Uint8Array(new Int32Array(i.shape).buffer),h=new Uint8Array(new Int32Array(o.shape).buffer),b=t.dataIdMap.get(m.dataId).id;return r(d,f,i.shape.length,p,h,o.shape.length,s[i.dtype],b),m}}}var I,w=v(n.Add),S={kernelName:n.AddN,backendName:"wasm",setupFunc:function(e){I=e.wasm.cwrap(n.AddN,null,["array","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=a.makeOutput(t[0].shape,t[0].dtype);if(0===n.util.sizeFromShape(r.shape))return r;var u=t.map((function(e){return a.dataIdMap.get(e.dataId).id})),i=new Uint8Array(new Int32Array(u).buffer),o=a.dataIdMap.get(r.dataId).id;return I(i,u.length,s[r.dtype],o),r}};function M(e){var t=e.inputs.x,a=e.backend;if("string"===t.dtype)return n.tensor(a.readSync(t.dataId),t.shape,t.dtype);var r=a.makeOutput(t.shape,t.dtype),u=a.typedArrayFromHeap(t);return a.typedArrayFromHeap(r).set(u),r}var A,x={kernelName:n.Identity,backendName:"wasm",kernelFunc:M};function F(e){for(var n=e.inputs,t=e.backend,a=e.attrs,r=f(function(e,n){for(var t=[],a=[],r=0;r<e.length;++r)1!==e[r]&&t.push(e[r]),1!==e[n[r]]&&a.push(n[r]);for(r=0;r<a.length;++r){for(var u=-1,i=0;i<a.length;++i)a[i]>=r&&(-1===u||a[u]>a[i])&&(u=i);a[u]=r}return[t,a]}(n.x.shape,a.perm),2),u=r[0],i=r[1],o=!0,d=0;d<i.length;d++)i[d]!==d&&(o=!1);var p=function(e,n){for(var t=new Array(e.length),a=0;a<t.length;a++)t[a]=e[n[a]];return t}(n.x.shape,a.perm),l={dataId:n.x.dataId,shape:u,dtype:n.x.dtype};if(o){var c=M({inputs:n,backend:t});return c.shape=p,c}var m=t.makeOutput(p,l.dtype),h=t.dataIdMap.get(l.dataId).id,b=t.dataIdMap.get(m.dataId).id,y=new Uint8Array(new Int32Array(i).buffer),_=new Uint8Array(new Int32Array(l.shape).buffer);return A(h,_,l.shape.length,s[l.dtype],b,y,i.length),m}var N,D={kernelName:n.Transpose,backendName:"wasm",kernelFunc:F,setupFunc:function(e){A=e.wasm.cwrap(n.Transpose,null,["number","array","number","number","number","array","number"])}};function R(e,t,a){var r=e.shape,u=e.shape.length,i=n.util.parseAxisParam(t,r),s=i,o=n.backend_util.getAxesPermutation(s,u),d=null,p=!1;if(null!=o){for(var l=new Array(u),c=0;c<l.length;c++)l[c]=r[o[c]];s=n.backend_util.getInnerMostAxes(s.length,u),d=F({inputs:{x:e},attrs:{perm:o},backend:a});var m=a.dataIdMap.get(e.dataId).id;a.dataIdMap.get(d.dataId).id!==m&&(p=!0)}return{transposed:d,originalAxes:i,axes:s,inputWasTransposed:p}}var E,P={kernelName:n.All,backendName:"wasm",setupFunc:function(e){N=e.wasm.cwrap(n.All,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,s=a.x,o=t.dataIdMap.get(s.dataId).id,d=s,p=R(s,u,t),l=p.transposed,c=p.axes,m=p.originalAxes,h=p.inputWasTransposed;h&&(d=l,o=t.dataIdMap.get(l.dataId).id);var b=d.shape.length;n.backend_util.assertAxesAreInnerMostDims("all",c,b);var y=f(n.backend_util.computeOutAndReduceShapes(d.shape,c),2),_=y[0],g=y[1],k=n.util.sizeFromShape(g),v=t.makeOutput(_,s.dtype);if(0!==n.util.sizeFromShape(d.shape)){var I=t.dataIdMap.get(v.dataId).id;N(o,k,I)}if(h&&t.disposeData(l.dataId),i){var w=n.backend_util.expandShapeToKeepDim(v.shape,m);v.shape=w}return v}},C={kernelName:n.Any,backendName:"wasm",setupFunc:function(e){E=e.wasm.cwrap(n.Any,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,s=a.x,o=t.dataIdMap.get(s.dataId).id,d=s,p=R(s,u,t),l=p.transposed,c=p.axes,m=p.originalAxes,h=p.inputWasTransposed;h&&(d=l,o=t.dataIdMap.get(l.dataId).id);var b=d.shape.length;n.backend_util.assertAxesAreInnerMostDims("any",c,b);var y=f(n.backend_util.computeOutAndReduceShapes(d.shape,c),2),_=y[0],g=y[1],k=n.util.sizeFromShape(g),v=t.makeOutput(_,s.dtype);if(0!==n.util.sizeFromShape(d.shape)){var I=t.dataIdMap.get(v.dataId).id;E(o,k,I)}if(h&&t.disposeData(l.dataId),i){var w=n.backend_util.expandShapeToKeepDim(v.shape,m);v.shape=w}return v}};function W(e){var t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){var a=e.backend,r=e.inputs,u=e.attrs.axis,i=r.x,o=a.dataIdMap.get(i.dataId).id,d=o,p=i,l=R(i,u,a),c=l.transposed,m=l.axes,f=l.inputWasTransposed;if(f){var h=a.dataIdMap.get(c.dataId).id;h!==o&&(p=c,d=h)}var b=p.shape.slice(0,-1),y=a.makeOutput(b,"int32"),_=a.dataIdMap.get(y.dataId).id,g=n.util.sizeFromShape(y.shape),k=p.shape[m[0]];return t(d,s[p.dtype],g,k,_),f&&a.disposeData(c.dataId),y}}}var O,T,z,B,H=W(n.ArgMax),L=W(n.ArgMin),G=y(n.Asin),U=y(n.Asinh),j=y(n.Atan),q=v(n.Atan2),V=y(n.Atanh),K={kernelName:n.AvgPool,backendName:"wasm",setupFunc:function(e){O=e.wasm.cwrap(n.AvgPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=r.dataIdMap.get(u.dataId).id,s=a.filterSize,o=a.strides,d=a.pad,p=a.dimRoundingMode,l=n.backend_util.computePool2DInfo(u.shape,s,o,1,d,p),c=l.filterHeight,m=l.filterWidth,f=l.padInfo.top,h=l.padInfo.right,b=l.padInfo.bottom,y=l.padInfo.left,_=l.strideHeight,g=l.strideWidth,k=l.inChannels;if("channelsLast"!==l.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(l.dataFormat,"'. Please use 'channelsLast'."));if(1!==l.dilationWidth||1!==l.dilationHeight)throw new Error("was backend only supports average pooling with dilation = [1, 1], "+"got [".concat(l.dilationHeight,", ").concat(l.dilationWidth,"]."));var v=r.makeOutput(l.outShape,"float32"),I=r.dataIdMap.get(v.dataId).id;return O(i,u.shape[0],u.shape[1],u.shape[2],c,m,f,h,b,y,_,g,k,I),v}},X={kernelName:n.AvgPool3D,backendName:"wasm",setupFunc:function(e){T=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.filterSize,s=r.strides,o=r.pad,d=r.dimRoundingMode,p=r.dataFormat,l=n.backend_util.computePool3DInfo(u.shape,i,s,1,o,d,p),c=a.makeOutput(l.outShape,u.dtype);return T(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(c.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),c}},Q={kernelName:n.AvgPool3DGrad,backendName:"wasm",setupFunc:function(e){z=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.dy,i=t.input,s=r.filterSize,o=r.strides,d=r.pad,p=r.dimRoundingMode,l=n.backend_util.computePool3DInfo(i.shape,s,o,1,d,p),c=a.makeOutput(i.shape,i.dtype);return z(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(c.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left,l.filterDepth,l.filterHeight,l.filterWidth),c}},J={kernelName:n.AvgPoolGrad,backendName:"wasm",setupFunc:function(e){B=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.dy,i=t.input,s=r.filterSize,o=r.strides,d=r.pad,p=n.backend_util.computePool2DInfo(i.shape,s,o,1,d),l=a.makeOutput(i.shape,i.dtype);return B(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(l.dataId).id,p.batchSize,p.inChannels,p.inHeight,p.inWidth,p.outHeight,p.outWidth,p.strideHeight,p.strideWidth,p.dilationHeight,p.dilationWidth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.top,p.padInfo.left,p.filterHeight,p.filterWidth),l}};function Z(e){var t=e.inputs,a=e.attrs,r=t.x,u=a.shape,i=n.util.sizeFromShape(r.shape),s=n.util.inferFromImplicitShape(u,i);return n.util.assert(i===n.util.sizeFromShape(s),(function(){return"new shape: ".concat(s,", old shape: ").concat(r.shape,". New shape and old ")+"shape must have the same number of elements."})),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:s,dtype:r.dtype}}var Y,$={kernelName:n.Reshape,backendName:"wasm",kernelFunc:Z},ee={kernelName:n.BatchMatMul,backendName:"wasm",setupFunc:function(e){Y=e.wasm.cwrap(n.BatchMatMul,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.a,i=t.b,s=r.transposeA,o=r.transposeB;if("float32"!==u.dtype||"float32"!==i.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");var d=u.shape.length,p=i.shape.length,l=s?u.shape[d-2]:u.shape[d-1],c=o?i.shape[p-1]:i.shape[p-2],m=s?u.shape[d-1]:u.shape[d-2],f=o?i.shape[p-2]:i.shape[p-1],h=u.shape.slice(0,-2),b=i.shape.slice(0,-2),y=n.util.sizeFromShape(h),_=n.util.sizeFromShape(b),g=n.broadcast_util.assertAndGetBroadcastShape(u.shape.slice(0,-2),i.shape.slice(0,-2)).concat([m,f]);n.util.assert(l===c,(function(){return"Error in matMul: inner shapes (".concat(l,") and (")+"".concat(c,") of Tensors with shapes ").concat(u.shape," and ")+"".concat(i.shape," and transposeA=").concat(s)+" and transposeB=".concat(o," must match.")}));var k=o?[_,f,c]:[_,c,f],v=Z({inputs:{x:u},backend:a,attrs:{shape:s?[y,l,m]:[y,m,l]}}),I=Z({inputs:{x:i},backend:a,attrs:{shape:k}}),w=a.dataIdMap.get(v.dataId).id,S=a.dataIdMap.get(I.dataId).id,M=s?v.shape[2]:v.shape[1],A=o?I.shape[1]:I.shape[2],x=Math.max(y,_),F=a.makeOutput([x,M,A],v.dtype),N=a.dataIdMap.get(F.dataId).id,D=new Uint8Array(new Int32Array(v.shape).buffer),R=new Uint8Array(new Int32Array(I.shape).buffer);return Y(w,D,v.shape.length,S,R,I.shape.length,s,o,N),a.disposeData(v.dataId),a.disposeData(I.dataId),F.shape=g,F}};function ne(e,t,a,r,u){var i=n.slice_util.isSliceContinous(r,t,a),s=n.util.sizeFromShape(a),o=n.util.computeStrides(r);if(i){var d=n.slice_util.computeFlatOffset(t,o);return"string"===u?e.slice(d,d+s):e.subarray(d,d+s)}for(var p="string"===u?n.backend_util.fromUint8ToStringArray(e):e,l=n.buffer(r,u,p),c=n.buffer(a,u),m=0;m<c.size;++m){var b=c.indexToLoc(m),y=b.map((function(e,n){return e+t[n]}));c.set.apply(c,h([l.get.apply(l,h([],f(y),!1))],f(b),!1))}return"string"===u?n.backend_util.fromStringArrayToUint8(c.values):c.values}n.backend_util.RowPartitionType;var te=function(){function e(e,t,a,r,u,i){this.separator=n.util.encodeString(e),this.nGramWidths=t,this.leftPad=n.util.encodeString(a),this.rightPad=n.util.encodeString(r),this.padWidth=u,this.preserveShort=i}return e.prototype.getPadWidth=function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)},e.prototype.getNumNGrams=function(e,n){var t=this.getPadWidth(n);return Math.max(0,e+2*t-n+1)},e.prototype.createNGrams=function(e,n,t,a,r,u){for(var i=function(i){var o=s.getPadWidth(u),d=Math.max(0,o-i),p=Math.max(0,o-(r-(i+1))),l=u-(d+p),c=n+(d>0?0:i-o),m=0;m+=d*s.leftPad.length;for(var f=0;f<l;++f)m+=e[c+f].length;m+=p*s.rightPad.length,m+=(d+p+l-1)*s.separator.length,t[a+i]=new Uint8Array(m);var h=t[a+i],b=0,y=function(e){return e.forEach((function(e){return h[b++]=e}))};for(f=0;f<d;++f)y(s.leftPad),y(s.separator);for(f=0;f<l-1;++f)y(e[c+f]),y(s.separator);if(l>0)for(y(e[c+l-1]),f=0;f<p;++f)y(s.separator),y(s.rightPad);else{for(f=0;f<p-1;++f)y(s.rightPad),y(s.separator);y(s.rightPad)}},s=this,o=0;o<r;++o)i(o)},e.prototype.compute=function(e,t){var a=this,r=e.length,u=t.length;if(u>0){var i=t[0];if(0!==i)throw new Error("First split value must be 0, got ".concat(i));for(var s=1;s<u;++s){var o=t[s]>=i;if(!(o=o&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(i,", ").concat(r,"]"));i=t[s]}if(i!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(i))}var d=u-1,p=n.util.getArrayFromDType("int32",u);if(0===r||0===u){var l=new Array(r);for(s=0;s<=d;++s)p[s]=0;return[l,p]}p[0]=0;var c=function(e){var n=t[e]-t[e-1],r=0;m.nGramWidths.forEach((function(e){r+=a.getNumNGrams(n,e)})),m.preserveShort&&n>0&&0===r&&(r=1),p[e]=p[e-1]+r},m=this;for(s=1;s<=d;++s)c(s);var f=new Array(p[d]),h=function(n){var r=t[n],u=p[n];if(b.nGramWidths.forEach((function(i){var s=t[n+1]-t[n],o=a.getNumNGrams(s,i);a.createNGrams(e,r,f,u,o,i),u+=o})),b.preserveShort&&u===p[n]){var i=t[n+1]-t[n];if(0===i)return"continue";var s=i+2*b.padWidth;b.createNGrams(e,r,f,u,1,s)}},b=this;for(s=0;s<d;++s)h(s);return[f,p]},e}();function ae(e,n,t,a){if(e.length)if(0!==n.length)if(1!==n.length){var r=0;for(o=0;o<e.length+1;o++)o!==e.length&&-1===n.indexOf(e[o])||(s=e.subarray(r,o),t&&0===s.length||a.push(s),r=o+1)}else{for(var u=n[0],i=e.indexOf(u);-1!==i;){var s=e.subarray(0,i);t&&0===s.length||a.push(s),i=(e=e.subarray(i+1)).indexOf(u)}t&&0===e.length||a.push(e)}else for(var o=0;o<e.length;++o)a.push(e.subarray(o,o+1))}function re(e){var t=e.inputs.x,a=e.attrs,r=a.begin,u=a.size,i=e.backend,s=f(n.slice_util.parseSliceParams(t,r,u),2),o=s[0],d=s[1],p=n.slice_util.isSliceContinous(t.shape,o,d),l=i.readSync(t.dataId),c=i.makeOutput(d,t.dtype),m=n.util.computeStrides(t.shape),h=i.dataIdMap.get(c.dataId);if(p){var b=n.slice_util.computeFlatOffset(o,m);return"string"===t.dtype?h.stringBytes=l.slice(b,b+n.util.sizeFromShape(d)):i.typedArrayFromHeap(c).set(l.subarray(b,b+n.util.sizeFromShape(d))),c}if("string"===t.dtype){var y=ne(l,o,d,t.shape,t.dtype);return h.stringBytes=y,c}var _=i.typedArrayFromHeap(c),g=t.shape.length;return 2===g?function(e,n,t,a,r){for(var u=0,i=a[0],s=a[1],o=i+r[0],d=i;d<o;d++){var p=d*n+s;t.set(e.subarray(p,p+r[1]),u),u+=r[1]}}(l,m[0],_,o,d):3===g?function(e,n,t,a,r,u){for(var i=0,s=r[0],o=r[1],d=r[2],p=s+u[0],l=o+u[1],c=s;c<p;c++)for(var m=o;m<l;m++){var f=c*n+m*t+d;a.set(e.subarray(f,f+u[2]),i),i+=u[2]}}(l,m[0],m[1],_,o,d):4===g?function(e,n,t,a,r,u,i){for(var s=0,o=u[0],d=u[1],p=u[2],l=o+i[0],c=d+i[1],m=p+i[2],f=u[3],h=o;h<l;h++)for(var b=d;b<c;b++)for(var y=p;y<m;y++){var _=h*n+b*t+y*a+f;r.set(e.subarray(_,_+i[3]),s),s+=i[3]}}(l,m[0],m[1],m[2],_,o,d):(y=ne(l,o,d,t.shape,t.dtype),_.set(y)),c}var ue,ie={kernelName:n.Slice,backendName:"wasm",kernelFunc:re},se={kernelName:n.BatchToSpaceND,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.blockShape,s=r.crops,o=i.reduce((function(e,n){return e*n})),d=n.backend_util.getReshaped(u.shape,i,o),p=n.backend_util.getPermuted(d.length,i.length),l=n.backend_util.getReshapedPermuted(u.shape,i,o),c=n.backend_util.getSliceBeginCoords(s,i.length),m=n.backend_util.getSliceSize(l,s,i.length),f=Z({inputs:{x:u},backend:a,attrs:{shape:d}}),h=F({inputs:{x:f},backend:a,attrs:{perm:p}}),b=Z({inputs:{x:h},backend:a,attrs:{shape:l}}),y=re({inputs:{x:b},backend:a,attrs:{begin:c,size:m}});return a.disposeData(f.dataId),a.disposeData(h.dataId),a.disposeData(b.dataId),y}},oe={kernelName:n.Bincount,backendName:"wasm",setupFunc:function(e){ue=e.wasm.cwrap(n.Bincount,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=t.x,u=t.weights,i=a.size,o=0!==u.shape.reduce((function(e,n){return e*n}),1),d=1===r.shape.length?[i]:[r.shape[0],i],p=n.makeOutput(d,u.dtype);function l(e){return n.dataIdMap.get(e.dataId).id}return ue(l(r),i,o,l(u),s[u.dtype],l(p)),p}},de=v(n.BitwiseAnd),pe={kernelName:n.BroadcastArgs,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=t.s0,u=t.s1,i=a.typedArrayFromHeap(r),s=a.typedArrayFromHeap(u),o=n.backend_util.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return a.makeOutput([o.length],"int32",void 0,new Int32Array(o))}};function le(e){var n=e.inputs.x,t=e.attrs.dtype,a=e.backend,r=a.makeOutput(n.shape,t),u=a.typedArrayFromHeap(n);return a.typedArrayFromHeap(r).set(u),r}var ce,me={kernelName:n.Cast,backendName:"wasm",kernelFunc:le},fe=y(n.Ceil),he={kernelName:n.ClipByValue,backendName:"wasm",setupFunc:function(e){ce=e.wasm.cwrap(n.ClipByValue,null,["number","number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.x,u=a.clipValueMin,i=a.clipValueMax,s=t.dataIdMap.get(r.dataId).id,o=t.makeOutput(r.shape,r.dtype),d=t.dataIdMap.get(o.dataId).id;return ce(s,u,i,d),o}};function be(e){var t=e.inputs,a=e.backend,r=n.util.parseAxisParam(e.attrs.axis,t[0].shape)[0],u=t.map((function(e){return e.shape}));n.backend_util.assertParamsConsistent(u,r);var i=n.backend_util.computeOutShape(t.map((function(e){return e.shape})),r),s=t.filter((function(e){return n.util.sizeFromShape(e.shape)>0}));if(1===s.length)return M({inputs:{x:s[0]},backend:a});var o=a.makeOutput(i,t[0].dtype);if(0===n.util.sizeFromShape(i))return o;if("string"===s[0].dtype){var d=s.map((function(e){var t=n.util.sizeFromShape(e.shape.slice(r));return Z({inputs:{x:e},backend:a,attrs:{shape:[-1,t]}})})),p=d.map((function(e){return{vals:a.readSync(e.dataId),shape:e.shape}}));i=n.backend_util.computeOutShape(d.map((function(e){return e.shape})),1);var l=1===d[0].shape[0],c=function(e,t,a,r){var u=n.util.getArrayFromDType(a,n.util.sizeFromShape(t));if(r&&"string"!==a){var i=0;e.forEach((function(e){var t=n.util.sizeFromShape(e.shape);u.set(e.vals,i),i+=t}))}else{var s=0;e.forEach((function(e){for(var r="string"===a?n.backend_util.fromUint8ToStringArray(e.vals):e.vals,i=0,o=0;o<e.shape[0];++o)for(var d=o*t[1]+s,p=0;p<e.shape[1];++p)u[d+p]=r[i++];s+=e.shape[1]}))}return u}(p,i,t[0].dtype,l),m=n.backend_util.computeOutShape(s.map((function(e){return e.shape})),r);return o.shape=m,a.dataIdMap.get(o.dataId).stringBytes=n.backend_util.fromStringArrayToUint8(c),d.forEach((function(e){return a.disposeData(e.dataId)})),o}for(var f=n.util.sizeFromShape(s[0].shape.slice(0,r)),h=0,b=s.map((function(e){var t=n.util.sizeFromShape(e.shape.slice(r));return h+=t,t})),y=s.map((function(e){return a.typedArrayFromHeap(e)})),_=a.typedArrayFromHeap(o),g=0;g<f;g++)for(var k=g*h,v=0;v<y.length;v++){var I=b[v],w=g*I,S=y[v].subarray(w,w+I);_.set(S,k),k+=I}return o}var ye,_e,ge,ke,ve,Ie,we,Se={kernelName:n.Concat,backendName:"wasm",kernelFunc:be},Me={kernelName:n.Conv2D,backendName:"wasm",setupFunc:function(e){ye=e.wasm.cwrap(n.Conv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=t.filter,s=r.dataIdMap.get(u.dataId).id,o=r.dataIdMap.get(i.dataId).id,d=a.strides,p=a.dilations,l=a.pad,c=a.dimRoundingMode,m=a.dataFormat,f=n.backend_util.convertConv2DDataFormat(m),h=n.backend_util.computeConv2DInfo(u.shape,i.shape,d,p,l,c,!1,f),b=h.filterHeight,y=h.filterWidth,_=h.padInfo.top,g=h.padInfo.right,k=h.padInfo.bottom,v=h.padInfo.left,I=h.dilationHeight,w=h.dilationWidth,S=h.strideHeight,M=h.strideWidth,A=h.inChannels,x=h.outChannels,F="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error("wasm backend Conv2D does not support dataFormat:'"+"".concat(h.dataFormat,"'. Please use 'channelsLast'."));var N=r.makeOutput(h.outShape,"float32"),D=r.dataIdMap.get(N.dataId).id;return ye(s,u.shape[0],u.shape[1],u.shape[2],o,b,y,_,g,k,v,F,I,w,S,M,A,x,D),N}},Ae={kernelName:n.Conv2DBackpropInput,backendName:"wasm",setupFunc:function(e){_e=e.wasm.cwrap(n.Conv2DBackpropInput,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.dy,i=a.filter,s=r.strides,o=r.pad,d=r.dataFormat,p=r.dimRoundingMode,l=r.inputShape,c=n.backend_util.convertConv2DDataFormat(d),m=n.backend_util.computeConv2DInfo(l,i.shape,s,1,o,p,!1,c),h=m.batchSize,b=m.filterHeight,y=m.filterWidth,_=m.inChannels,g=m.inHeight,k=m.inWidth,v=m.outChannels,I=m.outHeight,w=m.outWidth,S=m.strideHeight,M=m.strideWidth,A=b-1-m.padInfo.top,x=y-1-m.padInfo.left,F="channelsLast"===m.dataFormat,N=n.util.computeStrides(m.inShape),D=n.util.computeStrides(u.shape),R=f(n.util.computeStrides(i.shape),3),E=R[0],P=R[1],C=R[2],W=N[0],O=F?N[1]:N[2],T=F?N[2]:1,z=F?1:N[1],B=D[0],H=F?D[1]:D[2],L=F?D[2]:1,G=F?1:D[1],U=t.makeOutput(m.inShape,"float32"),j=t.dataIdMap.get(U.dataId).id,q=t.dataIdMap.get(u.dataId).id,V=t.dataIdMap.get(i.dataId).id;return _e(q,V,h,b,y,g,k,_,I,w,v,S,M,A,x,E,P,C,W,O,T,z,B,H,L,G,j),U}},xe={kernelName:n.Conv3D,backendName:"wasm",setupFunc:function(e){ge=e.wasm.cwrap(n.Conv3D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=t.filter,s=r.strides,o=r.pad,d=r.dilations;if("float32"!==u.dtype)throw new Error("Tensor x must have dtype float32, got ".concat(u.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));var p=n.backend_util.computeConv3DInfo(u.shape,i.shape,s,d,o),l=a.makeOutput(p.outShape,u.dtype);return ge(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(l.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),l}},Fe={kernelName:n.Conv3DBackpropFilterV2,backendName:"wasm",setupFunc:function(e){ke=e.wasm.cwrap(n.Conv3DBackpropFilterV2,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=t.dy,s=r.strides,o=r.pad,d=r.filterShape;if("float32"!==u.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(u.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));var p=n.backend_util.computeConv3DInfo(u.shape,d,s,1,o),l=a.makeOutput(p.filterShape,i.dtype);return ke(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(l.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),l}},Ne={kernelName:n.Conv3DBackpropInputV2,backendName:"wasm",setupFunc:function(e){ve=e.wasm.cwrap(n.Conv3DBackpropInputV2,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.dy,i=t.filter,s=r.pad,o=r.strides,d=r.inputShape;if("float32"!==u.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(u.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));var p=n.backend_util.computeConv3DInfo(d,i.shape,o,1,s),l=a.makeOutput(p.inShape,u.dtype);return ve(a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(l.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),l}},De=y(n.Cos),Re=y(n.Cosh);!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(Ie||(Ie={}));var Ee,Pe,Ce,We,Oe,Te,ze,Be,He,Le,Ge={kernelName:n.CropAndResize,backendName:"wasm",setupFunc:function(e){we=e.wasm.cwrap(n.CropAndResize,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){var n,t=e.backend,a=e.inputs,r=e.attrs,u=r.method,i=r.extrapolationValue,s=r.cropSize,o=a.image,d=a.boxes,p=a.boxInd,l=d.shape[0],c=f(s,2),m=c[0],h=c[1],b=[l,m,h,o.shape[3]],y=t.dataIdMap.get(o.dataId);"float32"!==o.dtype&&(n=le({backend:t,inputs:{x:o},attrs:{dtype:"float32"}}),y=t.dataIdMap.get(n.dataId));var _=y.id,g=t.dataIdMap.get(d.dataId).id,k=t.dataIdMap.get(p.dataId).id,v=t.makeOutput(b,"float32"),I=t.dataIdMap.get(v.dataId).id,w=new Uint8Array(new Int32Array(o.shape).buffer);return we(_,g,k,l,w,m,h,Ie[u],i,I),null!=n&&t.disposeData(n.dataId),v}},Ue={kernelName:n.Cumprod,backendName:"wasm",setupFunc:function(e){Ee=e.wasm.cwrap(n.Cumprod,null,["number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.axis,o=r.exclusive,d=r.reverse,p=u.shape.length;n.util.assert("float32"===u.dtype||"int32"===u.dtype,(function(){return"cumprod does not support ".concat(u.dtype," tensors in the WASM backend")}));var l=n.backend_util.getAxesPermutation([i],p),c=u;null!==l&&(c=F({inputs:{x:u},attrs:{perm:l},backend:a}));var m=n.backend_util.getInnerMostAxes(1,p)[0];n.backend_util.assertAxesAreInnerMostDims("cumprod",[m],p);var f=a.makeOutput(c.shape,c.dtype),h=c.shape[m],b=a.dataIdMap.get(c.dataId).id,y=a.dataIdMap.get(f.dataId).id;Ee(b,o?1:0,d?1:0,h,y,s[u.dtype]);var _=f;return null!==l&&(_=F({inputs:{x:f},attrs:{perm:n.backend_util.getUndoAxesPermutation(l)},backend:a}),a.disposeData(c.dataId),a.disposeData(f.dataId)),_}},je={kernelName:n.Cumsum,backendName:"wasm",setupFunc:function(e){Pe=e.wasm.cwrap(n.Cumsum,null,["number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.axis,o=r.exclusive,d=r.reverse,p=u.shape.length;n.util.assert("float32"===u.dtype||"int32"===u.dtype,(function(){return"cumsum does not support ".concat(u.dtype," tensors in the WASM backend")}));var l=n.backend_util.getAxesPermutation([i],p),c=u;null!==l&&(c=F({inputs:{x:u},attrs:{perm:l},backend:a}));var m=n.backend_util.getInnerMostAxes(1,p)[0];n.backend_util.assertAxesAreInnerMostDims("cumsum",[m],p);var f=a.makeOutput(c.shape,c.dtype),h=c.shape[m],b=a.dataIdMap.get(c.dataId).id,y=a.dataIdMap.get(f.dataId).id;Pe(b,o?1:0,d?1:0,h,y,s[u.dtype]);var _=f;return null!==l&&(_=F({inputs:{x:f},attrs:{perm:n.backend_util.getUndoAxesPermutation(l)},backend:a}),a.disposeData(c.dataId),a.disposeData(f.dataId)),_}},qe={kernelName:n.DenseBincount,backendName:"wasm",setupFunc:function(e){Ce=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=t.x,u=t.weights,i=a.size,o=a.binaryOutput,d=0!==u.shape.reduce((function(e,n){return e*n}),1),p=1===r.shape.length?[i]:[r.shape[0],i],l=n.makeOutput(p,u.dtype);function c(e){return n.dataIdMap.get(e.dataId).id}return Ce(c(r),new Uint8Array(new Int32Array(r.shape).buffer),r.shape.length,i,d,c(u),s[u.dtype],o,c(l)),l}},Ve={kernelName:n.DepthToSpace,backendName:"wasm",setupFunc:function(e){We=e.wasm.cwrap(n.DepthToSpace,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.x,i=r.blockSize,s=r.dataFormat,o=u.shape[0],d=("NHWC"===s?u.shape[1]:u.shape[2])*i,p=("NHWC"===s?u.shape[2]:u.shape[3])*i,l=("NHWC"===s?u.shape[3]:u.shape[1])/(i*i),c="NHWC"===s?[o,d,p,l]:[o,l,d,p],m=t.makeOutput(c,"float32"),f=t.dataIdMap.get(u.dataId).id,h=new Uint8Array(new Int32Array(n.util.computeStrides(u.shape)).buffer),b=new Uint8Array(new Int32Array(c).buffer),y=new Uint8Array(new Int32Array(n.util.computeStrides(c)).buffer),_=t.dataIdMap.get(m.dataId).id;return We(f,i,"NHWC"===s?1:0,h,u.shape.length-1,b,y,c.length,_),m}},Ke={kernelName:n.DepthwiseConv2dNative,backendName:"wasm",setupFunc:function(e){Oe=e.wasm.cwrap(n.DepthwiseConv2dNative,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=t.filter,s=r.dataIdMap.get(u.dataId).id,o=r.dataIdMap.get(i.dataId).id,d=a.strides,p=a.dilations,l=a.pad,c=a.dimRoundingMode,m=null==p?[1,1]:p,f=n.backend_util.computeConv2DInfo(u.shape,i.shape,d,m,l,c,!0),h=f.filterHeight,b=f.filterWidth,y=f.padInfo.top,_=f.padInfo.right,g=f.padInfo.bottom,k=f.padInfo.left,v=f.dilationHeight,I=f.dilationWidth,w=f.strideHeight,S=f.strideWidth,M=f.inChannels,A=f.outChannels,x="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error("wasm backend DepthwiseConv2dNative does not support dataFormat:'"+"".concat(f.dataFormat,"'. Please use 'channelsLast'."));var F=r.makeOutput(f.outShape,"float32"),N=r.dataIdMap.get(F.dataId).id;return Oe(s,u.shape[0],u.shape[1],u.shape[2],o,h,b,y,_,g,k,x,v,I,w,S,M,A,N),F}},Xe={kernelName:n.Diag,backendName:"wasm",setupFunc:function(e){Te=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=t.x,u=n.util.sizeFromShape(r.shape),i=a.makeOutput(h(h([],f(r.shape),!1),f(r.shape),!1),r.dtype);return Te(a.dataIdMap.get(r.dataId).id,s[r.dtype],u,a.dataIdMap.get(i.dataId).id),i}},Qe={kernelName:n.Dilation2D,backendName:"wasm",setupFunc:function(e){ze=e.wasm.cwrap(n.Dilation2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=t.filter,o=r.strides,d=r.pad,p=r.dilations;if(u.dtype!==i.dtype)throw new Error("Dilation2D error: x must have the same dtype as filter. Got ".concat(u.dtype," and ").concat(i.dtype));var l=n.backend_util.computeDilation2DInfo(u.shape,i.shape,o,d,"NHWC",p),c=a.makeOutput(l.outShape,u.dtype);return ze(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(c.dataId).id,s[u.dtype],l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.filterHeight,l.filterWidth,l.padInfo.top,l.padInfo.left),c}},Je={kernelName:n.Dilation2DBackpropFilter,backendName:"wasm",setupFunc:function(e){Be=e.wasm.cwrap(n.Dilation2DBackpropFilter,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=t.filter,o=t.dy,d=r.strides,p=r.pad,l=r.dilations;if(u.dtype!==i.dtype||u.dtype!==o.dtype)throw new Error("Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ".concat(u.dtype,", ").concat(i.dtype,", and ").concat(o.dtype));var c=n.backend_util.computeDilation2DInfo(u.shape,i.shape,d,p,"NHWC",l),m=a.makeOutput(i.shape,i.dtype);return Be(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(o.dataId).id,a.dataIdMap.get(m.dataId).id,s[u.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),m}},Ze={kernelName:n.Dilation2DBackpropInput,backendName:"wasm",setupFunc:function(e){He=e.wasm.cwrap(n.Dilation2DBackpropInput,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=t.filter,o=t.dy,d=r.strides,p=r.pad,l=r.dilations;if(u.dtype!==i.dtype||u.dtype!==o.dtype)throw new Error("Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ".concat(u.dtype,", ").concat(i.dtype,", and ").concat(o.dtype));var c=n.backend_util.computeDilation2DInfo(u.shape,i.shape,d,p,"NHWC",l),m=a.makeOutput(u.shape,u.dtype);return He(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(o.dataId).id,a.dataIdMap.get(m.dataId).id,s[u.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),m}},Ye=y(n.Elu),$e={kernelName:n.EluGrad,backendName:"wasm",setupFunc:function(e){Le=e.wasm.cwrap(n.EluGrad,null,["number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=n.dy,r=n.y,u=t.makeOutput(r.shape,"float32"),i=function(e){return t.dataIdMap.get(e.dataId).id};return Le(i(r),i(a),i(u)),u}},en=v(n.Equal,0,"bool"),nn=y(n.Erf),tn=y(n.Exp,"float32");function an(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.input,i=a.dim,s=u.shape.length,o=u.shape.slice(),d=i;return i<0&&(n.util.assert(-(s+1)<=i,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),d=s+i+1),o.splice(d,0,1),Z({inputs:{x:u},backend:r,attrs:{shape:o}})}var rn={kernelName:n.ExpandDims,backendName:"wasm",kernelFunc:an},un=y(n.Expm1,"float32");function sn(e){var t=e.attrs,a=t.shape,r=t.value,u=e.backend,i=e.attrs.dtype;i=i||n.util.inferDtype(r);var s=u.makeOutput(a,i);return u.typedArrayFromHeap(s).fill(r),s}var on,dn,pn,ln,cn,mn,fn,hn,bn,yn,_n,gn,kn,vn,In,wn,Sn,Mn,An,xn,Fn={kernelName:n.Fill,backendName:"wasm",kernelFunc:sn},Nn={kernelName:n.FlipLeftRight,backendName:"wasm",kernelFunc:function(e){var n=e.inputs,t=e.backend,a=n.image,r=t.makeOutput(a.shape,a.dtype),u=t.dataIdMap.get(a.dataId).id,i=t.dataIdMap.get(r.dataId).id,s=f(a.shape,4),o=s[0],d=s[1],p=s[2],l=s[3];return on(u,o,d,p,l,i),r},setupFunc:function(e){on=e.wasm.cwrap(n.FlipLeftRight,null,["number","number","number","number","number","number"])}},Dn=y(n.Floor),Rn=v(n.FloorDiv),En={kernelName:n.FusedBatchNorm,backendName:"wasm",setupFunc:function(e){dn=e.wasm.cwrap(n.FusedBatchNorm,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs.varianceEpsilon,u=a.x,i=a.mean,s=a.variance,o=a.offset,d=a.scale,p=t.dataIdMap.get(u.dataId).id,l=t.dataIdMap.get(i.dataId).id,c=t.dataIdMap.get(s.dataId).id,m=null!=o?t.dataIdMap.get(o.dataId).id:0,f=null!=d?t.dataIdMap.get(d.dataId).id:0,h=t.makeOutput(u.shape,u.dtype);if(0===n.util.sizeFromShape(u.shape))return h;var b=t.dataIdMap.get(h.dataId).id;return dn(p,l,c,m,f,r,b),h}},Pn={kernelName:n.FusedConv2D,backendName:"wasm",setupFunc:function(e){pn=e.wasm.cwrap(n.FusedConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=t.filter,s=t.bias,d=t.preluActivationWeights,p=a.strides,l=a.pad,c=a.dilations,m=a.dataFormat,f=a.dimRoundingMode,h=a.activation,b=a.leakyreluAlpha,y=n.backend_util.computeConv2DInfo(u.shape,i.shape,p,c,l,f),_=o[h];if(null==_)throw new Error("".concat(h," activation not yet supported for FusedConv2D ")+"in the wasm backend.");var g=r.dataIdMap.get(u.dataId).id,k=r.dataIdMap.get(i.dataId).id,v=y.outChannels,I=0;if(null!=s){var w=r.dataIdMap.get(s.dataId);if(1!==w.shape.length)throw new Error("FusedConv2D only supports rank-1 bias but got "+"rank ".concat(w.shape.length,"."));if(w.shape[0]!==v)throw new Error("FusedConv2D bias shape (".concat(w.shape,") does not ")+"match the number of output channels (".concat(v,")"));I=w.id}var S=y.filterHeight,M=y.filterWidth,A=y.padInfo.top,x=y.padInfo.right,F=y.padInfo.bottom,N=y.padInfo.left,D=y.dilationHeight,R=y.dilationWidth,E=y.strideHeight,P=y.strideWidth,C=y.inChannels,W="SAME"===y.padInfo.type?1:0,O=y.batchSize,T=y.inHeight,z=y.inWidth;if("NHWC"!==m)throw new Error("wasm backend FusedConv2D does not support dataFormat:'"+"".concat(m,"'. Please use 'NHWC'."));var B=r.makeOutput(y.outShape,"float32"),H=r.dataIdMap.get(B.dataId).id,L=null==d?0:r.dataIdMap.get(d.dataId).id;return pn(g,O,T,z,k,S,M,I,A,x,F,N,W,D,R,E,P,C,v,_,L,b||0,H),B}},Cn={kernelName:n.FusedDepthwiseConv2D,backendName:"wasm",setupFunc:function(e){ln=e.wasm.cwrap(n.FusedDepthwiseConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=t.filter,s=t.bias,d=t.preluActivationWeights,p=a.strides,l=a.pad,c=a.dilations,m=a.dataFormat,f=a.dimRoundingMode,h=a.activation,b=a.leakyreluAlpha,y=n.backend_util.computeConv2DInfo(u.shape,i.shape,p,c,l,f,!0),_=o[h];if(null==_)throw new Error("".concat(h," activation not yet supported for FusedDepthwiseConv2D ")+"in the wasm backend.");var g=r.dataIdMap.get(u.dataId).id,k=r.dataIdMap.get(i.dataId).id,v=y.outChannels,I=0;if(null!=s){var w=r.dataIdMap.get(s.dataId);if(1!==w.shape.length)throw new Error("FusedDepthwiseConv2D only supports rank-1 bias but got "+"rank ".concat(w.shape.length,"."));if(w.shape[0]!==v)throw new Error("FusedDepthwiseConv2D bias shape (".concat(w.shape,") does not ")+"match the number of output channels (".concat(v,")"));I=w.id}var S=y.filterHeight,M=y.filterWidth,A=y.padInfo.top,x=y.padInfo.right,F=y.padInfo.bottom,N=y.padInfo.left,D=y.dilationHeight,R=y.dilationWidth,E=y.strideHeight,P=y.strideWidth,C=y.inChannels,W="SAME"===y.padInfo.type?1:0,O=y.batchSize,T=y.inHeight,z=y.inWidth;if("NHWC"!==m)throw new Error("wasm backend FusedDepthwiseConv2D does not support dataFormat:'"+"".concat(m,"'. Please use 'NHWC'."));var B=r.makeOutput(y.outShape,"float32"),H=r.dataIdMap.get(B.dataId).id,L=null==d?0:r.dataIdMap.get(d.dataId).id;return ln(g,O,T,z,k,S,M,I,A,x,F,N,W,D,R,E,P,C,v,_,L,b||0,H),B}},Wn={kernelName:n.GatherNd,backendName:"wasm",setupFunc:function(e){cn=e.wasm.cwrap(n.GatherNd,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=a.params,u=a.indices,i=f(n.gather_util.prepareAndValidate(r,u),4),o=i[0],d=i[1],p=i[2],l=i[3],c=t.makeOutput(o,r.dtype);if(0===d)return c;var m=u.shape,h=m[m.length-1],b=t.dataIdMap.get(r.dataId).id,y=t.dataIdMap.get(u.dataId).id,_=new Uint8Array(new Int32Array(l).buffer),g=t.dataIdMap.get(c.dataId).id;return cn(b,s[r.dtype],y,d,h,p,_,g),c}},On={kernelName:n.GatherV2,backendName:"wasm",setupFunc:function(e){mn=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){for(var t=e.backend,a=e.inputs,r=e.attrs,u=a.x,i=a.indices,o=r.axis,d=r.batchDims,p=n.util.parseAxisParam(o,u.shape)[0],l=t.readSync(i.dataId),c=u.shape[p],m=function(e){var t=l[e];n.util.assert(t<=c-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(c-1,"]")}))},f=0;f<l.length;++f)m(f);var h=n.backend_util.segment_util.collectGatherOpShapeInfo(u,i,p,d),b=Z({inputs:{x:u},attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]},backend:t}),y=n.util.sizeFromShape(i.shape),_=Z({inputs:{x:i},attrs:{shape:[h.batchSize,y/h.batchSize]},backend:t}),g=[h.batchSize,h.outerSize,y/h.batchSize,h.sliceSize],k=t.makeOutput(g,u.dtype);if(0===n.util.sizeFromShape(u.shape))return k;var v=b.shape.length-1,I=t.dataIdMap.get(b.dataId).id,w=t.dataIdMap.get(_.dataId).id,S=t.dataIdMap.get(k.dataId).id,M=new Uint8Array(new Int32Array(n.util.computeStrides(b.shape)).buffer),A=new Uint8Array(new Int32Array(n.util.computeStrides(g)).buffer);return mn(I,s[u.dtype],M,v,w,h.batchSize,A,S),t.disposeData(b.dataId),t.disposeData(_.dataId),k.shape=h.outputShape,k}},Tn=v(n.Greater,0,"bool"),zn=v(n.GreaterEqual,0,"bool"),Bn=y(n.IsFinite,"bool"),Hn=y(n.IsInf,"bool"),Ln=y(n.IsNan,"bool"),Gn={kernelName:n.LeakyRelu,backendName:"wasm",setupFunc:function(e){fn=e.wasm.cwrap(n.LeakyRelu,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.inputs.x,a=e.attrs.alpha,r=e.backend,u=r.dataIdMap.get(t.dataId).id,i=r.makeOutput(t.shape,"float32");if(0!==n.util.sizeFromShape(t.shape)){var o=r.dataIdMap.get(i.dataId).id;fn(u,s[t.dtype],a,o)}return i}},Un=v(n.Less,0,"bool"),jn=v(n.LessEqual,0,"bool"),qn={kernelName:n.LinSpace,backendName:"wasm",setupFunc:function(e){hn=e.wasm.cwrap(n.LinSpace,null,["number","number","number","number"])},kernelFunc:function(e){var n=e.attrs,t=e.backend,a=n.start,r=n.stop,u=n.num,i=Math.floor(u),s=t.makeOutput([i],"float32");return hn(t.dataIdMap.get(s.dataId).id,a,r,i),s}},Vn=y(n.Log),Kn=y(n.Log1p),Xn=v(n.LogicalAnd,0,"bool"),Qn=y(n.LogicalNot),Jn=v(n.LogicalOr,0,"bool"),Zn=v(n.LogicalXor,0,"bool"),Yn={kernelName:n.LRN,backendName:"wasm",setupFunc:function(e){bn=e.wasm.cwrap(n.LRN,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.x,u=a.depthRadius,i=a.bias,s=a.alpha,o=a.beta;if("float32"!==r.dtype)throw new Error("LRN error: x must have dtype float32");var d=t.makeOutput(r.shape,r.dtype);return bn(t.dataIdMap.get(r.dataId).id,t.dataIdMap.get(d.dataId).id,r.shape[3],u,i,s,o),d}},$n={kernelName:n.LRNGrad,backendName:"wasm",setupFunc:function(e){yn=e.wasm.cwrap(n.LRNGrad,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.x,u=n.y,i=n.dy,s=a.depthRadius,o=a.bias,d=a.alpha,p=a.beta;if("float32"!==r.dtype||"float32"!==u.dtype||"float32"!==i.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");var l=t.makeOutput(r.shape,r.dtype);return yn(t.dataIdMap.get(r.dataId).id,t.dataIdMap.get(u.dataId).id,t.dataIdMap.get(i.dataId).id,t.dataIdMap.get(l.dataId).id,i.shape[3],s,o,d,p),l}},et={kernelName:n.Max,backendName:"wasm",setupFunc:function(e){_n=e.wasm.cwrap(n.Max,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.reductionIndices,i=r.keepDims,o=a.x,d=t.dataIdMap.get(o.dataId).id,p=o,l=R(o,u,t),c=l.transposed,m=l.axes,h=l.originalAxes,b=l.inputWasTransposed;b&&(p=c,d=t.dataIdMap.get(c.dataId).id);var y=p.shape.length;n.backend_util.assertAxesAreInnerMostDims("max",m,y);var _=f(n.backend_util.computeOutAndReduceShapes(p.shape,m),2),g=_[0],k=_[1],v=n.util.sizeFromShape(k),I=t.makeOutput(g,o.dtype);if(0!==n.util.sizeFromShape(p.shape)){var w=t.dataIdMap.get(I.dataId).id;_n(d,s[o.dtype],v,w)}if(b&&t.disposeData(c.dataId),i){var S=n.backend_util.expandShapeToKeepDim(I.shape,h);I.shape=S}return I}},nt=v(n.Maximum),tt={kernelName:n.MaxPool,backendName:"wasm",setupFunc:function(e){gn=e.wasm.cwrap(n.MaxPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=r.dataIdMap.get(u.dataId).id;n.util.assert("float32"===u.dtype,(function(){return"Error in MaxPool: only float32 input is supported. Got ".concat(u.dtype,".")}));var s=a.filterSize,o=a.strides,d=a.pad,p=a.dimRoundingMode,l=n.backend_util.computePool2DInfo(u.shape,s,o,1,d,p),c=l.filterHeight,m=l.filterWidth,f=l.padInfo.top,h=l.padInfo.right,b=l.padInfo.bottom,y=l.padInfo.left,_=l.dilationHeight,g=l.dilationWidth,k=l.strideHeight,v=l.strideWidth,I=l.inChannels,w=l.outChannels;if("channelsLast"!==l.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(l.dataFormat,"'. Please use 'channelsLast'."));var S=r.makeOutput(l.outShape,"float32"),M=r.dataIdMap.get(S.dataId).id;return gn(i,u.shape[0],u.shape[1],u.shape[2],c,m,f,h,b,y,_,g,k,v,I,w,M),S}},at={kernelName:n.MaxPool3D,backendName:"wasm",setupFunc:function(e){kn=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.filterSize,s=r.strides,o=r.pad,d=r.dimRoundingMode,p=r.dataFormat,l=n.backend_util.computePool3DInfo(u.shape,i,s,1,o,d,p),c=a.makeOutput(l.outShape,u.dtype);return kn(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(c.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),c}},rt={kernelName:n.MaxPool3DGrad,backendName:"wasm",setupFunc:function(e){vn=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.dy,i=t.input,s=r.filterSize,o=r.strides,d=r.pad,p=r.dimRoundingMode,l=n.backend_util.computePool3DInfo(i.shape,s,o,1,d,p),c=a.makeOutput(i.shape,i.dtype);return vn(a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(c.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),c}},ut={kernelName:n.MaxPoolGrad,backendName:"wasm",setupFunc:function(e){In=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.dy,i=t.input,s=r.filterSize,o=r.strides,d=r.pad,p=r.dimRoundingMode,l=n.backend_util.computePool2DInfo(i.shape,s,o,1,d,p),c=a.makeOutput(i.shape,i.dtype);return In(a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(c.dataId).id,l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.top,l.padInfo.left),c}},it={kernelName:n.MaxPoolWithArgmax,backendName:"wasm",setupFunc:function(e){wn=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.filterSize,o=r.strides,d=r.pad,p=r.includeBatchInIndex;n.util.assert(4===u.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(u.shape.length,".")}));var l=[1,1];n.util.assert(n.backend_util.eitherStridesOrDilationsAreOne(o,l),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(l,"'")}));var c=n.backend_util.computePool2DInfo(u.shape,i,o,[1,1],d),m=a.makeOutput(c.outShape,u.dtype),f=a.makeOutput(c.outShape,"int32");return wn(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(m.dataId).id,a.dataIdMap.get(f.dataId).id,s[u.dtype],p,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[m,f]}},st={kernelName:n.Mean,backendName:"wasm",setupFunc:function(e){Sn=e.wasm.cwrap(n.Mean,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,s=a.x,o=t.dataIdMap.get(s.dataId).id,d=o,p=s,l=R(s,u,t),c=l.transposed,m=l.axes,h=l.originalAxes,b=l.inputWasTransposed,y=m;if(b){var _=t.dataIdMap.get(c.dataId).id;_!==o&&(p=c,d=_,y=n.backend_util.getInnerMostAxes(y.length,p.shape.length))}n.backend_util.assertAxesAreInnerMostDims("mean",y,p.shape.length);var g=f(n.backend_util.computeOutAndReduceShapes(p.shape,y),2),k=g[0],v=g[1],I=n.util.sizeFromShape(v),w=p;"float32"!==p.dtype&&(w=le({backend:t,inputs:{x:p},attrs:{dtype:"float32"}}),d=t.dataIdMap.get(w.dataId).id);var S=t.makeOutput(k,"float32");if(0!==n.util.sizeFromShape(p.shape)){var M=t.dataIdMap.get(S.dataId).id;Sn(d,I,M)}if(b&&t.disposeData(c.dataId),i){var A=n.backend_util.expandShapeToKeepDim(S.shape,h);S.shape=A}return"float32"!==p.dtype&&t.disposeData(w.dataId),S}},ot={kernelName:n.Min,backendName:"wasm",setupFunc:function(e){Mn=e.wasm.cwrap(n.Min,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,o=a.x,d=t.dataIdMap.get(o.dataId).id,p=d,l=o,c=R(o,u,t),m=c.transposed,h=c.axes,b=c.originalAxes,y=c.inputWasTransposed;if(y){var _=t.dataIdMap.get(m.dataId).id;_!==d&&(l=m,p=_)}var g=l.shape.length;n.backend_util.assertAxesAreInnerMostDims("min",h,g);var k=f(n.backend_util.computeOutAndReduceShapes(l.shape,h),2),v=k[0],I=k[1],w=n.util.sizeFromShape(I),S=t.makeOutput(v,l.dtype);if(0!==n.util.sizeFromShape(l.shape)){var M=t.dataIdMap.get(S.dataId).id;Mn(p,s[o.dtype],w,M)}if(y&&t.disposeData(m.dataId),i){var A=n.backend_util.expandShapeToKeepDim(S.shape,b);S.shape=A}return S}},dt=v(n.Minimum);!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(An||(An={}));var pt,lt={kernelName:n.MirrorPad,backendName:"wasm",kernelFunc:function(e){var n=e.inputs.x,t=e.backend,a=e.attrs,r=a.paddings,u=a.mode,i=r.map((function(e,t){return e[0]+n.shape[t]+e[1]})),o=t.dataIdMap.get(n.dataId).id,d=t.makeOutput(i,n.dtype),p=t.dataIdMap.get(d.dataId).id,l=new Uint8Array(new Int32Array(n.shape).buffer),c=r.map((function(e){return e[0]})),m=r.map((function(e){return e[1]})),f=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(m).buffer);return xn(o,l,n.shape.length,s[n.dtype],f,h,An[u],p),d},setupFunc:function(e){xn=e.wasm.cwrap(n.MirrorPad,null,["number","array","number","number","array","array","number","number"])}};function ct(e){var t=e.backend,a=e.inputs.logits,r=e.attrs.dim,u=t.dataIdMap.get(a.dataId).id,i=t.makeOutput(a.shape,a.dtype),s=t.dataIdMap.get(i.dataId).id,o=a.shape[r],d=n.util.sizeFromShape(a.shape)/o;return 0===n.util.sizeFromShape(i.shape)||pt(u,s,o,d),i}var mt,ft,ht={kernelName:n.Softmax,backendName:"wasm",setupFunc:function(e){pt=e.wasm.cwrap(n.Softmax,null,["number","number","number","number"])},kernelFunc:ct},bt={kernelName:n.Multinomial,backendName:"wasm",setupFunc:function(e){mt=e.wasm.cwrap(n.Multinomial,null,["number","number","number","number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.logits,u=a.numSamples,i=a.seed,s=a.normalized;if("float32"!==r.dtype)throw new Error("Tensor logits must have dtype float32, got ".concat(r.dtype));var o=s?r:ct({inputs:{logits:r},backend:t,attrs:{dim:r.shape.length-1}}),d=f(o.shape,2),p=d[0],l=d[1],c=t.makeOutput([p,u],"int32");return mt(t.dataIdMap.get(o.dataId).id,p,l,u,i,t.dataIdMap.get(c.dataId).id),s||t.disposeData(o.dataId),c}},yt=v(n.Mod),_t=v(n.Multiply),gt=y(n.Neg);function kt(e,n){var t=new Int32Array(e.wasm.HEAPU8.buffer,n,4),a=t[0],r=t[1],u=t[2],i=t[3];return e.wasm._free(n),{pSelectedIndices:a,selectedSize:r,pSelectedScores:u,pValidOutputs:i}}var vt,It,wt,St,Mt,At,xt,Ft,Nt,Dt,Rt,Et,Pt,Ct,Wt,Ot,Tt,zt,Bt,Ht={kernelName:n.NonMaxSuppressionV3,backendName:"wasm",setupFunc:function(e){ft=e.wasm.cwrap(n.NonMaxSuppressionV3,"number",["number","number","number","number","number"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=a.iouThreshold,u=a.maxOutputSize,i=a.scoreThreshold,s=t.boxes,o=t.scores,d=n.dataIdMap.get(s.dataId).id,p=n.dataIdMap.get(o.dataId).id,l=kt(n,ft(d,p,u,r,i)),c=l.pSelectedIndices,m=l.selectedSize,f=l.pSelectedScores,h=l.pValidOutputs;return n.wasm._free(f),n.wasm._free(h),n.makeOutput([m],"int32",c)}},Lt={kernelName:n.NonMaxSuppressionV4,backendName:"wasm",setupFunc:function(e){vt=e.wasm.cwrap(n.NonMaxSuppressionV4,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=a.iouThreshold,u=a.maxOutputSize,i=a.scoreThreshold,s=a.padToMaxOutputSize,o=t.boxes,d=t.scores,p=n.dataIdMap.get(o.dataId).id,l=n.dataIdMap.get(d.dataId).id,c=kt(n,vt(p,l,u,r,i,s)),m=c.pSelectedIndices,f=c.selectedSize,h=c.pSelectedScores,b=c.pValidOutputs;return n.wasm._free(h),[n.makeOutput([f],"int32",m),n.makeOutput([],"int32",b)]}},Gt={kernelName:n.NonMaxSuppressionV5,backendName:"wasm",setupFunc:function(e){It=e.wasm.cwrap(n.NonMaxSuppressionV5,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=a.iouThreshold,u=a.maxOutputSize,i=a.scoreThreshold,s=a.softNmsSigma,o=t.boxes,d=t.scores,p=n.dataIdMap.get(o.dataId).id,l=n.dataIdMap.get(d.dataId).id,c=kt(n,It(p,l,u,r,i,s)),m=c.pSelectedIndices,f=c.selectedSize,h=c.pSelectedScores,b=c.pValidOutputs;return n.wasm._free(b),[n.makeOutput([f],"int32",m),n.makeOutput([f],"float32",h)]}},Ut=v(n.NotEqual,0,"bool"),jt={kernelName:n.OneHot,backendName:"wasm",setupFunc:function(e){wt=e.wasm.cwrap(n.OneHot,null,["number","number","number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.indices,u=a.dtype,i=a.depth,s=a.onValue,o=a.offValue,d=t.makeOutput(h(h([],f(r.shape),!1),[i],!1),u),p=t.dataIdMap.get(d.dataId).id,l=t.dataIdMap.get(r.dataId).id;return wt(l,i,s,o,p),d}},qt={kernelName:n.OnesLike,backendName:"wasm",kernelFunc:function(e){var n=e.inputs.x,t=e.backend,a=t.makeOutput(n.shape,n.dtype);return t.typedArrayFromHeap(a).fill(1),a}},Vt={kernelName:n.Pack,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs.axis;if(1===t.length)return an({inputs:{input:t[0]},backend:a,attrs:{dim:r}});var u=t[0].shape,i=t[0].dtype;t.forEach((function(e){n.util.assertShapesMatch(u,e.shape,"All tensors passed to stack must have matching shapes"),n.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],o=be({inputs:t.map((function(e){var n=an({inputs:{input:e},backend:a,attrs:{dim:r}});return s.push(n),n})),backend:a,attrs:{axis:r}});return s.forEach((function(e){return a.disposeData(e.dataId)})),o}},Kt={kernelName:n.PadV2,backendName:"wasm",kernelFunc:function(e){var t=e.inputs.x,a=e.backend,r=e.attrs,u=r.paddings,i=r.constantValue,o=u.map((function(e,n){return e[0]+t.shape[n]+e[1]}));if(0===n.util.sizeFromShape(t.shape))return sn({backend:a,attrs:{shape:o,value:i,dtype:t.dtype}});var d=a.dataIdMap.get(t.dataId).id,p=a.makeOutput(o,t.dtype),l=a.dataIdMap.get(p.dataId).id,c=new Uint8Array(new Int32Array(t.shape).buffer),m=u.map((function(e){return e[0]})),f=u.map((function(e){return e[1]})),h=new Uint8Array(new Int32Array(m).buffer),b=new Uint8Array(new Int32Array(f).buffer);return St(d,c,t.shape.length,s[t.dtype],h,b,i,l),p},setupFunc:function(e){St=e.wasm.cwrap(n.PadV2,null,["number","array","number","number","array","array","number","number"])}},Xt=v(n.Pow),Qt={kernelName:n.Prelu,backendName:"wasm",setupFunc:function(e){Mt=e.wasm.cwrap(n.Prelu,null,["number","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=n.x,r=n.alpha,u=t.dataIdMap.get(a.dataId).id,i=t.dataIdMap.get(r.dataId).id,s=u,o=a,d=o;"float32"!==o.dtype&&(d=le({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),s=t.dataIdMap.get(d.dataId).id);var p=t.makeOutput(a.shape,"float32"),l=t.dataIdMap.get(p.dataId).id;return Mt(s,i,l),"float32"!==o.dtype&&t.disposeData(d.dataId),p}},Jt={kernelName:n.Prod,backendName:"wasm",setupFunc:function(e){At=e.wasm.cwrap(n.Prod,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,o=a.x,d=t.dataIdMap.get(o.dataId).id,p=d,l=o,c=R(o,u,t),m=c.transposed,h=c.axes,b=c.originalAxes,y=c.inputWasTransposed,_=h;if(y){var g=t.dataIdMap.get(m.dataId).id;g!==d&&(l=m,p=g,_=n.backend_util.getInnerMostAxes(_.length,l.shape.length))}n.backend_util.assertAxesAreInnerMostDims("prod",_,l.shape.length);var k=f(n.backend_util.computeOutAndReduceShapes(l.shape,_),2),v=k[0],I=k[1],w=n.util.sizeFromShape(I),S=t.makeOutput(v,l.dtype);if(0!==n.util.sizeFromShape(l.shape)){var M=t.dataIdMap.get(S.dataId).id;At(p,w,s[S.dtype],M)}if(y&&t.disposeData(m.dataId),i){var A=n.backend_util.expandShapeToKeepDim(S.shape,b);S.shape=A}return S}},Zt={kernelName:n.Range,backendName:"wasm",kernelFunc:function(e){var t=e.backend,a=e.attrs,r=a.start,u=a.stop,i=a.step,s=a.dtype,o=function(e,t,a,r){if(e===t||e<t&&a<0||t<e&&a>1)return n.util.makeZerosTypedArray(0,r);var u=Math.abs(Math.ceil((t-e)/a)),i=n.util.makeZerosTypedArray(u,r);t<e&&1===a&&(a=-1),i[0]=e;for(var s=1;s<i.length;s++)i[s]=i[s-1]+a;return i}(r,u,i,s),d=t.makeOutput([o.length],s);return t.typedArrayFromHeap(d).set(o),d}},Yt=v(n.RealDiv),$t=y(n.Reciprocal),ea=y(n.Relu),na=y(n.Relu6),ta={kernelName:n.ResizeBilinear,backendName:"wasm",setupFunc:function(e){xt=e.wasm.cwrap(n.ResizeBilinear,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t,a=e.backend,r=e.inputs,u=e.attrs,i=r.images,s=u.alignCorners,o=u.halfPixelCenters,d=f(u.size,2),p=d[0],l=d[1],c=f(i.shape,4),m=c[0],h=c[1],b=c[2],y=c[3],_=[m,p,l,y],g=a.dataIdMap.get(i.dataId);"float32"!==g.dtype&&(t=le({backend:a,inputs:{x:i},attrs:{dtype:"float32"}}),g=a.dataIdMap.get(t.dataId));var k=g.id,v=a.makeOutput(_,"float32");if(0===n.util.sizeFromShape(i.shape))return v;var I=a.dataIdMap.get(v.dataId).id;return xt(k,m,h,b,y,p,l,s?1:0,o?1:0,I),null!=t&&a.disposeData(t.dataId),v}},aa={kernelName:n.ResizeBilinearGrad,backendName:"wasm",setupFunc:function(e){Ft=e.wasm.cwrap(n.ResizeBilinearGrad,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){var n,t=e.inputs,a=e.backend,r=e.attrs,u=t.images,i=t.dy,s=r.alignCorners,o=a.makeOutput(u.shape,"float32"),d=a.dataIdMap.get(u.dataId);return"float32"!==d.dtype&&(n=le({backend:a,inputs:{x:u},attrs:{dtype:"float32"}}),d=a.dataIdMap.get(n.dataId)),Ft(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(o.dataId).id,new Uint8Array(new Int32Array(u.shape).buffer),new Uint8Array(new Int32Array(i.shape).buffer),s),null!=n&&a.disposeData(n.dataId),o}},ra={kernelName:n.ResizeNearestNeighbor,backendName:"wasm",setupFunc:function(e){Nt=e.wasm.cwrap(n.ResizeNearestNeighbor,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.images,i=r.alignCorners,s=r.halfPixelCenters,o=f(r.size,2),d=o[0],p=o[1],l=f(u.shape,4),c=l[0],m=l[1],h=l[2],b=l[3],y=[c,d,p,b],_=t.makeOutput(y,"float32");if(0===n.util.sizeFromShape(u.shape))return _;var g,k=t.dataIdMap.get(u.dataId);"float32"!==k.dtype&&(g=le({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),k=t.dataIdMap.get(g.dataId));var v=k.id,I=t.dataIdMap.get(_.dataId).id;return Nt(v,c,m,h,b,d,p,i?1:0,s?1:0,I),null!=g&&t.disposeData(g.dataId),_}},ua={kernelName:n.ResizeNearestNeighborGrad,backendName:"wasm",setupFunc:function(e){Dt=e.wasm.cwrap(n.ResizeNearestNeighborGrad,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){var n,t=e.inputs,a=e.backend,r=e.attrs,u=t.images,i=t.dy,s=r.alignCorners,o=a.makeOutput(u.shape,"float32"),d=a.dataIdMap.get(u.dataId);return"float32"!==d.dtype&&(n=le({backend:a,inputs:{x:u},attrs:{dtype:"float32"}}),d=a.dataIdMap.get(n.dataId)),Dt(a.dataIdMap.get(u.dataId).id,a.dataIdMap.get(i.dataId).id,a.dataIdMap.get(o.dataId).id,new Uint8Array(new Int32Array(u.shape).buffer),new Uint8Array(new Int32Array(i.shape).buffer),s),null!=n&&a.disposeData(n.dataId),o}},ia={kernelName:n.Reverse,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.dims,s=n.util.parseAxisParam(i,u.shape);if(0===u.shape.length)return M({inputs:{x:u},backend:a});var o=a.makeOutput(u.shape,u.dtype),d=a.dataIdMap.get(u.dataId).id,p=a.dataIdMap.get(o.dataId).id,l=new Uint8Array(new Int32Array(s).buffer),c=new Uint8Array(new Int32Array(u.shape).buffer);Rt(d,l,s.length,c,u.shape.length,p);var m=Z({inputs:{x:o},attrs:{shape:u.shape},backend:a});return a.disposeData(o.dataId),m},setupFunc:function(e){Rt=e.wasm.cwrap(n.Reverse,null,["number","array","number","array","number","number"])}},sa={kernelName:n.RotateWithOffset,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.image,i=r.radians,s=r.fillValue,o=r.center,d=a.makeOutput(u.shape,u.dtype),p=a.dataIdMap.get(u.dataId).id,l=a.dataIdMap.get(d.dataId).id,c=f(u.shape,4),m=c[0],b=c[1],y=c[2],_=c[3],g=f(n.backend_util.getImageCenter(o,b,y),2),k=g[0],v=g[1],I="number"==typeof s?[s,s,s,0===s?0:255]:h(h([],f(s),!1),[255],!1),w=new Uint8Array(new Int32Array(I).buffer);return Et(p,m,b,y,_,i,k,v,w,I.length,l),d},setupFunc:function(e){Et=e.wasm.cwrap(n.RotateWithOffset,null,["number","number","number","number","number","number","number","number","array","number","number"])}},oa=y(n.Round),da=y(n.Rsqrt),pa={kernelName:n.ScatterNd,backendName:"wasm",setupFunc:function(e){Pt=e.wasm.cwrap(n.ScatterNd,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.indices,i=a.updates,o=r.shape,d=t.makeOutput(o,i.dtype);if(0===n.util.sizeFromShape(o))return d;var p=n.scatter_util.calculateShapes(i,u,o),l=p.sliceRank,c=p.numUpdates,m=p.sliceSize,f=p.strides,h=p.outputSize,b=t.dataIdMap.get(u.dataId).id,y=t.dataIdMap.get(i.dataId).id,_=new Uint8Array(new Int32Array(f).buffer),g=t.dataIdMap.get(d.dataId).id;return Pt(b,y,s[i.dtype],l,c,m,_,h,g),d}},la={kernelName:n.SearchSorted,backendName:"wasm",setupFunc:function(e){Ct=e.wasm.cwrap(n.SearchSorted,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.sortedSequence,u=n.values,i=a.side;if(r.dtype!==u.dtype)throw new Error("SearchSorted error: sorted_sequence must have the same dtype as values. Got ".concat(r.dtype," and ").concat(u.dtype));var o=t.makeOutput(u.shape,"int32");function d(e){return t.dataIdMap.get(e.dataId).id}return Ct(d(r),d(u),r.shape[0],r.shape[1],u.shape[1],s[r.dtype],"left"===i,d(o)),o}},ca={kernelName:n.Select,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=t.condition,u=t.t,i=t.e,s=a.dataIdMap.get(r.dataId).id,o=a.dataIdMap.get(u.dataId).id,d=a.dataIdMap.get(i.dataId).id,p=a.makeOutput(u.shape,u.dtype),l=a.dataIdMap.get(p.dataId).id,c=r.shape.length,m=u.shape.length,f=0===c||c>1||1===m?1:n.util.sizeFromShape(u.shape.slice(1));return Wt(s,o,d,f,l),p},setupFunc:function(e){Wt=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},ma=y(n.Selu),fa={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){Ot=e.wasm.cwrap(n.Sigmoid,null,["number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs.x,r=t.dataIdMap.get(a.dataId).id,u=t.makeOutput(a.shape,a.dtype),i=t.dataIdMap.get(u.dataId).id;return 0===n.util.sizeFromShape(u.shape)||Ot(r,i),u}},ha=y(n.Sign),ba=y(n.Sin),ya=y(n.Sinh),_a=y(n.Softplus),ga={kernelName:n.SpaceToBatchND,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.backend,r=e.attrs,u=t.x,i=r.blockShape,s=r.paddings,o=n.util.sizeFromShape(i),d=[[0,0]];d.push.apply(d,h([],f(s),!1));for(var p=1+i.length;p<u.shape.length;++p)d.push([0,0]);var l=Kt.kernelFunc({inputs:{x:u},backend:a,attrs:{paddings:d,constantValue:0}}),c=n.backend_util.getReshaped(l.shape,i,o,!1),m=n.backend_util.getPermuted(c.length,i.length,!1),b=n.backend_util.getReshapedPermuted(l.shape,i,o,!1),y=Z({inputs:{x:l},backend:a,attrs:{shape:c}}),_=F({inputs:{x:y},backend:a,attrs:{perm:m}}),g=Z({inputs:{x:_},backend:a,attrs:{shape:b}});return a.disposeData(l.dataId),a.disposeData(y.dataId),a.disposeData(_.dataId),g}},ka={kernelName:n.SparseFillEmptyRows,backendName:"wasm",setupFunc:function(e){Tt=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t,a=e.backend,r=e.inputs,u=r.indices,i=r.values,o=r.denseShape,d=r.defaultValue,p=u.shape[0],l=u.shape[1],c=a.readSync(o.dataId)[0],m=[p+c,l],f=a.dataIdMap.get(u.dataId).id,h=a.dataIdMap.get(i.dataId).id,b=a.dataIdMap.get(d.dataId).id,y=a.makeOutput(m,u.dtype),_=a.dataIdMap.get(y.dataId).id,g=a.makeOutput(m.slice(0,1),i.dtype),k=a.dataIdMap.get(g.dataId).id,v=a.makeOutput([c],"bool"),I=a.dataIdMap.get(v.dataId).id,w=a.makeOutput([p],u.dtype),S=a.dataIdMap.get(w.dataId).id,M=a.makeOutput([4],"int32"),A=a.dataIdMap.get(M.dataId).id,x=Tt(f,h,s[i.dtype],p,c,l,b,_,k,I,S,A),F=a.readSync(M.dataId);switch(F[0]){case 1:t=n.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(F[1]);break;case 2:t=n.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(F[1],F[2]);break;case 3:t=n.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(F[1],F[2],F[3]);break;default:t=""}if(a.disposeData(M.dataId),t)throw a.disposeData(y.dataId),a.disposeData(g.dataId),a.disposeData(v.dataId),a.disposeData(w.dataId),new Error(t);var N=y,D=g;return x!==m[0]&&(N=re({inputs:{x:y},attrs:{begin:0,size:[x,l]},backend:a}),D=re({inputs:{x:g},attrs:{begin:0,size:x},backend:a}),a.disposeData(y.dataId),a.disposeData(g.dataId)),[N,D,v,w]}},va={kernelName:n.SparseReshape,backendName:"wasm",setupFunc:function(e){zt=e.wasm.cwrap(n.SparseReshape,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=a.inputIndices,u=a.inputShape,i=a.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==u.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(u.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var s=t.dataIdMap.get(r.dataId).id,o=t.dataIdMap.get(u.dataId).id,d=t.dataIdMap.get(i.dataId).id,p=r.shape[0],l=n.util.sizeFromShape(i.shape),c=t.makeOutput([p,l],r.dtype),m=t.dataIdMap.get(c.dataId).id,f=t.makeOutput([l],i.dtype),h=t.dataIdMap.get(f.dataId).id,b=t.makeOutput([3],"int32"),y=t.dataIdMap.get(b.dataId).id;zt(s,o,d,p,m,h,y);var _,g=t.readSync(b.dataId);switch(g[0]){case 0:_=n.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(g[1],g[2]);break;case 1:_=n.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(g[1],g[2]);break;case 2:_=n.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:var k=Array.from(t.readSync(u.dataId)),v=Array.from(t.readSync(f.dataId));_=n.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(k,v);break;case 4:k=Array.from(t.readSync(u.dataId)),v=Array.from(t.readSync(f.dataId)),_=n.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(k,v);break;default:_=""}if(t.disposeData(b.dataId),_)throw t.disposeData(c.dataId),t.disposeData(f.dataId),new Error(_);return[c,f]}};function Ia(e){Bt=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function wa(e,t){var a=e.backend,r=e.inputs,u=r.data,i=r.indices,o=r.segmentIds,d=i.shape[0],p=a.readSync(o.dataId,d-1,d)[0],l=d>0?p+1:0;if(l<0)throw new Error(n.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var c=u.shape.slice();c[0]=l;var m=a.dataIdMap.get(u.dataId).id,f=a.dataIdMap.get(i.dataId).id,h=a.dataIdMap.get(o.dataId).id,b=a.makeOutput(c,u.dtype),y=a.dataIdMap.get(b.dataId).id,_=a.makeOutput([4],"int32"),g=a.dataIdMap.get(_.dataId).id;Bt(m,s[u.dtype],u.shape[0],f,h,y,g,t,0);var k,v=a.readSync(_.dataId);switch(v[0]){case 0:k=n.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break;case 1:k=n.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break;case 2:k=n.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(v[1],v[2]);break;case 3:k=n.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(v[1],v[2],v[3]);break;default:k=""}if(a.disposeData(_.dataId),k)throw a.disposeData(b.dataId),new Error(k);return b}var Sa,Ma,Aa,xa,Fa,Na,Da,Ra,Ea,Pa,Ca={kernelName:n.SparseSegmentMean,backendName:"wasm",setupFunc:Ia,kernelFunc:function(e){return wa(e,!0)}},Wa={kernelName:n.SparseSegmentSum,backendName:"wasm",setupFunc:Ia,kernelFunc:function(e){return wa(e,!1)}},Oa={kernelName:n.SparseToDense,backendName:"wasm",setupFunc:function(e){Sa=e.wasm.cwrap(n.SparseToDense,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.sparseIndices,i=a.sparseValues,o=a.defaultValue,d=r.outputShape,p=t.makeOutput(d,o.dtype);if(0===n.util.sizeFromShape(d))return p;var l=n.backend_util.calculateShapes(i,u,d),c=l.sliceRank,m=l.numUpdates,f=l.sliceSize,h=l.strides,b=l.outputSize,y=t.dataIdMap.get(u.dataId).id,_=t.dataIdMap.get(i.dataId).id,g=t.dataIdMap.get(o.dataId).id,k=new Uint8Array(new Int32Array(h).buffer),v=t.dataIdMap.get(p.dataId).id;return Sa(y,_,i.shape.length,g,s[o.dtype],c,m,f,k,b,v),p}},Ta={kernelName:n.SplitV,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=t.x,i=a.numOrSizeSplits,s=a.axis,o=n.util.parseAxisParam(s,u.shape)[0],d=n.backend_util.prepareSplitSize(u,i,o),p=new Array(u.shape.length).fill(0),l=u.shape.slice();return d.map((function(e){var n=h([],f(l),!1);n[o]=e;var t=re({inputs:{x:u},attrs:{begin:p,size:n},backend:r});return p[o]+=e,t}))}},za=y(n.Sqrt),Ba=y(n.Square),Ha=v(n.SquaredDifference),La={kernelName:n.Step,backendName:"wasm",setupFunc:function(e){Ma=e.wasm.cwrap(n.Step,null,["number","number","number","number"])},kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs.alpha,r=t.x,u=n.dataIdMap.get(r.dataId).id,i=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(i.dataId).id;return Ma(u,a,s[r.dtype],o),i}},Ga={kernelName:n.StridedSlice,backendName:"wasm",setupFunc:function(e){Aa=e.wasm.cwrap(n.StridedSlice,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){var t,a=e.backend,r=e.inputs,u=e.attrs,i=r.x,s=u.begin,o=u.end,d=u.strides,p=u.beginMask,l=u.endMask,c=u.ellipsisMask,m=u.newAxisMask,f=u.shrinkAxisMask,h=n.slice_util.sliceInfo(i.shape,s,o,d,p,l,c,m,f),b=h.finalShapeSparse,y=h.finalShape,_=h.isIdentity,g=h.sliceDim0,k=h.isSimpleSlice,v=h.begin,I=h.end,w=h.strides;if(_)t=Z({inputs:{x:i},backend:a,attrs:{shape:y}});else if(g||k){n.util.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var S=n.slice_util.computeOutShape(v,I,w),M=re({inputs:{x:i},backend:a,attrs:{begin:v,size:S}});t=Z({inputs:{x:M},backend:a,attrs:{shape:y}}),a.disposeData(M.dataId)}else{var A=a.makeOutput(b,"float32"),x=a.dataIdMap.get(i.dataId).id,F=new Uint8Array(new Int32Array(n.util.computeStrides(i.shape)).buffer),N=new Uint8Array(new Int32Array(v).buffer),D=new Uint8Array(new Int32Array(I).buffer),R=new Uint8Array(new Int32Array(w).buffer),E=new Uint8Array(new Int32Array(b).buffer),P=new Uint8Array(new Int32Array(n.util.computeStrides(b)).buffer),C=a.dataIdMap.get(A.dataId).id;Aa(x,F,i.shape.length,N,D,R,E,P,b.length,C),t=Z({inputs:{x:A},backend:a,attrs:{shape:y}}),a.disposeData(A.dataId)}return t}},Ua={kernelName:n.StringNGrams,backendName:"wasm",kernelFunc:function(e){var n=e.backend,t=e.inputs,a=e.attrs,r=t.data,u=t.dataSplits,i=a.separator,s=a.nGramWidths,o=a.leftPad,d=a.rightPad,p=a.padWidth,l=a.preserveShortSequences,c=f(function(e,n,t,a,r,u,i,s){return new te(t,a,r,u,i,s).compute(e,n)}(n.readSync(r.dataId),n.readSync(u.dataId),i,s,o,d,p,l),2),m=c[0],h=c[1],b=n.makeOutput([m.length],"string");n.dataIdMap.get(b.dataId).stringBytes=m;var y=n.makeOutput(u.shape,"int32");return n.typedArrayFromHeap(y).set(h),[b,y]}},ja={kernelName:n.StringSplit,backendName:"wasm",kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.input,i=a.delimiter,s=r.skipEmpty,o=f(function(e,t,a){for(var r=e.length,u=[],i=0,s=0,o=new Array(r),d=0;d<r;++d){var p=u.length;ae(e[d],t,a,u);var l=u.length-p;o[d]=l,i+=l,s=Math.max(s,l)}var c=n.util.getArrayFromDType("int32",2*i),m=new Array(i),f=[r,s],h=0;for(d=0;d<r;++d)for(var b=0;b<o[d];++b)c[2*h]=d,c[2*h+1]=b,m[h]=u[h],++h;return[c,m,f]}(t.readSync(u.dataId),t.readSync(i.dataId)[0],s),3),d=o[0],p=o[1],l=o[2],c=p.length,m=t.makeOutput([c,2],"int32");t.typedArrayFromHeap(m).set(d);var h=t.makeOutput([c],"string");t.dataIdMap.get(h.dataId).stringBytes=p;var b=t.makeOutput([2],"int32");return t.typedArrayFromHeap(b).set(l),[m,h,b]}},qa={kernelName:n.StringToHashBucketFast,backendName:"wasm",kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=a.input,i=r.numBuckets,s=function(e,t){for(var a=n.util.getArrayFromDType("int32",e.length),r=0;r<e.length;++r)a[r]=n.util.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return a}(t.readSync(u.dataId),i),o=t.makeOutput(u.shape,"int32");return t.typedArrayFromHeap(o).set(s),o}},Va=v(n.Sub),Ka={kernelName:n.Sum,backendName:"wasm",setupFunc:function(e){xa=e.wasm.cwrap(n.Sum,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,r=e.attrs,u=r.axis,i=r.keepDims,o=a.x,d=t.dataIdMap.get(o.dataId).id,p=d,l=o,c=R(o,u,t),m=c.transposed,h=c.axes,b=c.originalAxes,y=c.inputWasTransposed,_=h;if(y){var g=t.dataIdMap.get(m.dataId).id;g!==d&&(l=m,p=g,_=n.backend_util.getInnerMostAxes(_.length,l.shape.length))}n.backend_util.assertAxesAreInnerMostDims("sum",_,l.shape.length);var k=f(n.backend_util.computeOutAndReduceShapes(l.shape,_),2),v=k[0],I=k[1],w=n.util.sizeFromShape(I),S=t.makeOutput(v,l.dtype);if(0!==n.util.sizeFromShape(l.shape)){var M=t.dataIdMap.get(S.dataId).id;xa(p,w,s[S.dtype],M)}if(y&&t.disposeData(m.dataId),i){var A=n.backend_util.expandShapeToKeepDim(S.shape,b);S.shape=A}return S}},Xa=y(n.Tan),Qa=y(n.Tanh),Ja={kernelName:n.TensorScatterUpdate,backendName:"wasm",setupFunc:function(e){Fa=e.wasm.cwrap(n.TensorScatterUpdate,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs;e.attrs;var r=a.tensor,u=a.indices,i=a.updates,o=t.makeOutput(r.shape,r.dtype);if(0===n.util.sizeFromShape(r.shape))return o;var d=n.scatter_util.calculateShapes(i,u,r.shape),p=d.sliceRank,l=d.numUpdates,c=d.sliceSize,m=d.strides,f=d.outputSize,h=t.dataIdMap.get(u.dataId).id,b=t.dataIdMap.get(i.dataId).id,y=t.dataIdMap.get(r.dataId).id,_=new Uint8Array(new Int32Array(m).buffer),g=t.dataIdMap.get(o.dataId).id;return Fa(h,b,s[i.dtype],p,l,c,_,f,g,y),o}},Za={kernelName:n.Tile,backendName:"wasm",setupFunc:function(e){Na=e.wasm.cwrap(n.Tile,null,["number","array","number","array","number","number"])},kernelFunc:function(e){for(var n=e.inputs,t=e.backend,a=e.attrs,r=n.x,u=t.dataIdMap.get(r.dataId).id,i=a.reps,o=new Array(r.shape.length),d=0;d<o.length;d++)o[d]=r.shape[d]*i[d];var p=new Uint8Array(new Int32Array(r.shape).buffer),l=new Uint8Array(new Int32Array(o).buffer),c=t.makeOutput(o,r.dtype),m=t.dataIdMap.get(c.dataId).id;return Na(u,p,r.shape.length,l,o.length,s[c.dtype],m),c}},Ya={kernelName:n.TopK,backendName:"wasm",setupFunc:function(e){Da=e.wasm.cwrap(n.TopK,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.x,u=a.k,i=a.sorted,o=t.dataIdMap.get(r.dataId).id,d=new Uint8Array(new Int32Array(r.shape).buffer),p=r.shape.slice();p[p.length-1]=u;var l=t.makeOutput(p,r.dtype),c=t.dataIdMap.get(l.dataId).id,m=t.makeOutput(p,"int32"),f=t.dataIdMap.get(m.dataId).id;return Da(o,d,r.shape.length,s[r.dtype],u,i,c,f),[l,m]}},$a={kernelName:n.Transform,backendName:"wasm",setupFunc:function(e){Ra=e.wasm.cwrap(n.Transform,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){var t,a=e.backend,r=e.inputs,u=e.attrs,i=r.image,s=r.transforms,o=u.interpolation,d=u.fillMode,p=u.fillValue,l=u.outputShape,c=f(i.shape,4),m=c[0],h=c[1],b=c[2],y=c[3],_=f(null!=l?l:[h,b],2),g=_[0],k=_[1],v=[m,g,k,y],I=new Uint8Array(new Int32Array(n.util.computeStrides(i.shape)).buffer),w=new Uint8Array(new Int32Array(n.util.computeStrides(v)).buffer),S=a.makeOutput(v,i.dtype),M=a.dataIdMap.get(S.dataId).id,A=a.dataIdMap.get(i.dataId).id,x=a.dataIdMap.get(s.dataId).id,F="nearest"===o?1:2;switch(d){case"constant":default:t=1;break;case"reflect":t=2;break;case"wrap":t=3;break;case"nearest":t=4}return Ra(A,x,s.shape[0]>1,m,g,k,y,b,h,I,i.shape.length-1,w,v.length-1,F,t,p,M),S}},er={kernelName:n.Unique,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,a=e.attrs,r=e.backend,u=a.axis,i=t.x,s=function(e,t,a,r){for(var u=n.util.parseAxisParam(t,a)[0],i=[1,a[0],1],s=0;s<u;s++)i[0]*=a[s];for(i[1]=a[u],s=u+1;s<a.length;s++)i[2]*=a[s];var o=new Map,d=new Int32Array(a[u]),p=new n.TensorBuffer(i,r,e),l=[],c=1===i[0]&&1===i[2];for(s=0;s<a[u];s++){var m=void 0;if(c)m=e[s].toString();else{for(var f=[],h=0;h<i[0];h++)for(var b=0;b<i[2];b++)f.push(p.get(h,s,b));m=f.join(",")}var y=o.get(m);if(null!=y)d[s]=y;else{var _=o.size;o.set(m,_),d[s]=_,l.push(s)}}var g=i.slice();g[1]=o.size;var k=new n.TensorBuffer(g,r);l.forEach((function(e,n){for(var t=0;t<i[0];t++)for(var a=0;a<i[2];a++)k.set(p.get(t,e,a),t,n,a)}));var v=a.slice();return v[u]=g[1],{outputValues:k.values,outputShape:v,indices:d}}(r.readSync(i.dataId),u,i.shape,i.dtype),o=s.outputValues,d=s.outputShape,p=s.indices;return[r.makeOutput(d,i.dtype,void 0,o),r.makeOutput([p.length],"int32",void 0,p)]}},nr={kernelName:n.Unpack,backendName:"wasm",kernelFunc:function(e){var n=e.inputs,t=e.backend,a=e.attrs,r=n.value,u=a.axis;u<0&&(u+=r.shape.length);for(var i=r.shape[u],s=r.shape.length,o=new Array(s-1),d=0,p=0;p<s;p++)p!==u&&(o[d++]=r.shape[p]);var l=new Array(i),c=new Array(s).fill(0),m=r.shape.slice();for(m[u]=1,p=0;p<l.length;p++)c[u]=p,l[p]=re({inputs:{x:r},attrs:{begin:c,size:m},backend:t});return l.map((function(e){return{dataId:e.dataId,dtype:e.dtype,shape:o}}))}},tr={kernelName:n.ZerosLike,backendName:"wasm",kernelFunc:function(e){var n=e.inputs.x,t=e.backend,a=t.makeOutput(n.shape,n.dtype);return t.typedArrayFromHeap(a).fill(0),a}},ar=[b,_,g,k,w,S,P,C,H,L,G,U,j,q,V,K,J,X,Q,ee,se,oe,de,pe,me,fe,he,Se,Me,Ae,xe,Fe,Ne,De,Re,Ge,Ue,je,qe,Ve,Ke,Xe,Qe,Je,Ze,Ye,$e,en,nn,tn,rn,un,Fn,Nn,Dn,Rn,En,Pn,Cn,Wn,On,Tn,zn,x,Bn,Hn,Ln,Gn,Un,jn,qn,Kn,Vn,Xn,Qn,Jn,Zn,Yn,$n,et,nt,tt,at,rt,ut,it,st,ot,dt,lt,bt,yt,_t,gt,Ht,Lt,Gt,Ut,jt,qt,Vt,Kt,Xt,Qt,Jt,Zt,Yt,$t,ea,na,$,ta,aa,ra,ua,ia,sa,oa,da,pa,la,ca,ma,fa,ha,ba,ya,ie,ht,_a,ga,ka,va,Ca,Wa,Oa,Ta,za,Ba,Ha,La,Ga,Ua,ja,qa,Va,Ka,Xa,Qa,Ja,Za,Ya,$a,D,er,nr,tr];try{for(var rr=m(ar),ur=rr.next();!ur.done;ur=rr.next()){var ir=ur.value;n.registerKernel(ir)}}catch(e){Ea={error:e}}finally{try{ur&&!ur.done&&(Pa=rr.return)&&Pa.call(rr)}finally{if(Ea)throw Ea.error}}var sr=n.env();sr.registerFlag("WASM_HAS_SIMD_SUPPORT",(function(){return l(void 0,void 0,void 0,(function(){return c(this,(function(e){try{return[2,WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))]}catch(e){return[2,!1]}return[2]}))}))})),sr.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(function(){return l(void 0,void 0,void 0,(function(){return c(this,(function(e){if(sr.get("IS_NODE"))return[2,!1];try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),[2,WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))]}catch(e){return[2,!1]}return[2]}))}))}));var or="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pr={exports:{}};!function(e){var n,i=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(e){function i(){return O.buffer!=H&&Q(O.buffer),G}function s(){return O.buffer!=H&&Q(O.buffer),U}function o(){return O.buffer!=H&&Q(O.buffer),j}function d(){return O.buffer!=H&&Q(O.buffer),q}var p,l,c,b=void 0!==(e=e||{})?e:{};b.ready=new Promise((function(e,n){p=e,l=n})),"undefined"!=typeof process&&process.listeners&&(c={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var y,_,g,k=Object.assign({},b),v=function(e,n){throw n},I="object"==typeof window,w="function"==typeof importScripts,S="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,M=b.ENVIRONMENT_IS_PTHREAD||!1,A="";function x(e){return b.locateFile?b.locateFile(e,A):A+e}if(S){var F=t,N=a;A=w?N.dirname(A)+"/":__dirname+"/",y=function(e,n){return e=oe(e)?new URL(e):N.normalize(e),F.readFileSync(e,n?void 0:"utf8")},g=function(e){var n=y(e,!0);return n.buffer||(n=new Uint8Array(n)),n},_=function(e,n,t){e=oe(e)?new URL(e):N.normalize(e),F.readFile(e,(function(e,a){e?t(e):n(a.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof le))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=function(e,n){if(ne())throw process.exitCode=e,n;var t;(t=n)instanceof le||W("exiting due to exception: "+t),process.exit(e)},b.inspect=function(){return"[Emscripten Module object]"};var D=void 0;try{D=require("worker_threads")}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}or.Worker=D.Worker}else(I||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),void 0!==n&&n&&(A=n),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S||(y=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},w&&(g=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),_=function(e,n,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?n(a.response):t()},a.onerror=t,a.send(null)}));S&&"undefined"==typeof performance&&(or.performance=r.performance);var R=console.log.bind(console),E=console.warn.bind(console);S&&(R=function(e){return F.writeSync(1,e+"\n")},E=function(e){return F.writeSync(2,e+"\n")});var P,C=b.print||R,W=b.printErr||E;Object.assign(b,k),k=null,b.arguments&&b.arguments,b.thisProgram&&b.thisProgram,b.quit&&(v=b.quit),b.wasmBinary&&(P=b.wasmBinary);var O,T,z=b.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var B,H,L,G,U,j,q,V=!1,K="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function X(e,n,t){for(var a=(n>>>=0)+t,r=n;e[r]&&!(r>=a);)++r;if(r-n>16&&e.buffer&&K)return K.decode(e.buffer instanceof SharedArrayBuffer?e.slice(n,r):e.subarray(n,r));for(var u="";n<r;){var i=e[n++];if(128&i){var s=63&e[n++];if(192!=(224&i)){var o=63&e[n++];if((i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&e[n++])<65536)u+=String.fromCharCode(i);else{var d=i-65536;u+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else u+=String.fromCharCode((31&i)<<6|s)}else u+=String.fromCharCode(i)}return u}function Q(e){H=e,b.HEAP8=L=new Int8Array(e),b.HEAP16=new Int16Array(e),b.HEAP32=U=new Int32Array(e),b.HEAPU8=G=new Uint8Array(e),b.HEAPU16=new Uint16Array(e),b.HEAPU32=j=new Uint32Array(e),b.HEAPF32=new Float32Array(e),b.HEAPF64=q=new Float64Array(e)}M&&(H=b.buffer);var J,Z=b.INITIAL_MEMORY||16777216;if(M)O=b.wasmMemory,H=b.buffer;else if(b.wasmMemory)O=b.wasmMemory;else if(!((O=new WebAssembly.Memory({initial:Z/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw W("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),S&&W("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");O&&(H=O.buffer),Z=H.byteLength,Q(H);var Y=[],$=[],ee=[];function ne(){return z}function te(){M||ye($)}var ae,re=0,ue=null;function ie(e){b.onAbort&&b.onAbort(e),W(e="Aborted("+e+")"),V=!0,B=1,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw l(n),n}function se(e){return e.startsWith("data:application/octet-stream;base64,")}function oe(e){return e.startsWith("file://")}function de(e){try{if(e==ae&&P)return new Uint8Array(P);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}se(ae="tfjs-backend-wasm-threaded-simd.wasm")||(ae=x(ae));var pe={};function le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){var n=be.pthreads[e];n||ie(void 0),be.returnWorkerToPool(n)}function me(e){var n=be.getNewWorker();if(!n)return 6;be.runningWorkers.push(n),be.pthreads[e.pthread_ptr]=n,n.pthread_ptr=e.pthread_ptr;var t={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return n.runPthread=function(){S&&n.ref(),n.postMessage(t,e.transferList),delete n.runPthread},n.loaded&&n.runPthread(),0}function fe(e){if(M)return Me(1,1,e);B=e,ne()||(be.terminateAllThreads(),b.onExit&&b.onExit(e),V=!0),v(e,new le(e))}var he=function(e,n){if(B=e,!n&&M)throw _e(e),"unwind";fe(e)},be={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){M?be.initWorker():be.initMainThread()},initMainThread:function(){for(var e=8;e--;)be.allocateUnusedWorker()},initWorker:function(){z=!1},setExitStatus:function(e){B=e},terminateAllThreads:function(){var e,n,t,a;try{for(var r=m(Object.values(be.pthreads)),u=r.next();!u.done;u=r.next()){var i=u.value;be.returnWorkerToPool(i)}}catch(n){e={error:n}}finally{try{u&&!u.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}try{for(var s=m(be.unusedWorkers),o=s.next();!o.done;o=s.next())(i=o.value).terminate()}catch(e){t={error:e}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}be.unusedWorkers=[]},returnWorkerToPool:function(e){var n=e.pthread_ptr;delete be.pthreads[n],be.unusedWorkers.push(e),be.runningWorkers.splice(be.runningWorkers.indexOf(e),1),e.pthread_ptr=0,S&&e.unref(),Ue(n)},receiveObjectTransfer:function(e){},threadInitTLS:function(){be.tlsInitFunctions.forEach((function(e){return e()}))},loadWasmModuleToWorker:function(e,t){var a,r;e.onmessage=function(n){var a,r=n.data,u=r.cmd;if(e.pthread_ptr&&(be.currentProxiedOperationCallerThread=e.pthread_ptr),r.targetThread&&r.targetThread!=Oe()){var i=be.pthreads[r.targetThread];return i?i.postMessage(r,r.transferList):W('Internal error! Worker sent a message "'+u+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(be.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===u?we(r.queue):"spawnThread"===u?me(r):"cleanupThread"===u?ce(r.thread):"killThread"===u?function(e){var n=be.pthreads[e];delete be.pthreads[e],n.terminate(),Ue(e),be.runningWorkers.splice(be.runningWorkers.indexOf(n),1),n.pthread_ptr=0}(r.thread):"cancelThread"===u?(a=r.thread,be.pthreads[a].postMessage({cmd:"cancel"})):"loaded"===u?(e.loaded=!0,S&&e.unref(),t&&t(e),e.runPthread&&e.runPthread()):"print"===u?C("Thread "+r.threadId+": "+r.text):"printErr"===u?W("Thread "+r.threadId+": "+r.text):"alert"===u?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===u?b[r.handler].apply(b,h([],f(r.args),!1)):u&&W("worker sent an unknown command "+u),be.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){throw W("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},S&&(e.on("message",(function(n){e.onmessage({data:n})})),e.on("error",(function(n){e.onerror(n)})),e.on("detachedExit",(function(){})));var u=[];try{for(var i=m(["onExit","onAbort","print","printErr"]),s=i.next();!s.done;s=i.next()){var o=s.value;b.hasOwnProperty(o)&&u.push(o)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}e.postMessage({cmd:"load",handlers:u,urlOrBlob:b.mainScriptUrlOrBlob||n,wasmMemory:O,wasmModule:T})},allocateUnusedWorker:function(){var e,n=x("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(n),be.unusedWorkers.push(e)},getNewWorker:function(){return 0==be.unusedWorkers.length&&(be.allocateUnusedWorker(),be.loadWasmModuleToWorker(be.unusedWorkers[0])),be.unusedWorkers.pop()}};function ye(e){for(;e.length>0;)e.shift()(b)}function _e(e){if(M)return Me(2,0,e);try{he(e)}catch(e){!function(e){if(e instanceof le||"unwind"==e)return B;v(1,e)}(e)}}b.PThread=be,b.establishStackSpace=function(){var e=Oe(),n=s()[e+52>>>2],t=s()[e+56>>>2];qe(n,n-t),Ke(n)};var ge,ke=[];function ve(e,n,t,a){return M?Me(3,1,e,n,t,a):Ie(e,n,t,a)}function Ie(e,n,t,a){if("undefined"==typeof SharedArrayBuffer)return W("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];if(M&&0===r.length)return ve(e,n,t,a);var u={startRoutine:t,pthread_ptr:e,arg:a,transferList:r};return M?(u.cmd="spawnThread",postMessage(u,r),0):me(u)}function we(e){Atomics.store(s(),e>>2,1),Oe()&&Ge(e),Atomics.compareExchange(s(),e>>2,1,0)}function Se(e){Se.shown||(Se.shown={}),Se.shown[e]||(Se.shown[e]=1,S&&(e="warning: "+e),W(e))}function Me(e,n){var t=arguments.length-2,a=arguments;return function(e){var n=Ve(),t=e();return Ke(n),t}((function(){for(var r=t,u=Xe(8*r),i=u>>3,s=0;s<t;s++){var o=a[2+s];d()[i+s>>>0]=o}return ze(e,r,u,n)}))}b.invokeEntryPoint=function(e,n){var t,a,r=((a=ke[t=e])||(t>=ke.length&&(ke.length=t+1),ke[t]=a=J.get(t)),a)(n);ne()?be.setExitStatus(r):je(r)},b.executeNotifiedProxyingQueue=we,ge=S?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.timeOrigin+performance.now()};var Ae=[];function xe(e){try{return O.grow(e-H.byteLength+65535>>>16),Q(O.buffer),1}catch(e){}}function Fe(e){return M?Me(4,1,e):52}function Ne(e,n,t,a,r){return M?Me(5,1,e,n,t,a,r):70}var De=[null,[],[]];function Re(e,n){var t=De[e];0===n||10===n?((1===e?C:W)(X(t,0)),t.length=0):t.push(n)}function Ee(e,n,t,a){if(M)return Me(6,1,e,n,t,a);for(var r=0,u=0;u<t;u++){var s=o()[n>>>2],d=o()[n+4>>>2];n+=8;for(var p=0;p<d;p++)Re(e,i()[s+p>>>0]);r+=d}return o()[a>>>2]=r,0}function Pe(e){return b["_"+e]}be.init();var Ce=[null,fe,_e,ve,Fe,Ne,Ee],We={__emscripten_init_main_thread_js:function(e){Te(e,!w,1,!I),be.threadInitTLS()},__emscripten_thread_cleanup:function(e){M?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},__pthread_create_js:Ie,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return!0},_emscripten_notify_task_queue:function(e,n,t,a){if(e==n)setTimeout((function(){return we(a)}));else if(M)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:a});else{var r=be.pthreads[e];if(!r)return;r.postMessage({cmd:"processProxyingQueue",queue:a})}return 1},_emscripten_set_offscreencanvas_size:function(e,n,t){return-1},abort:function(){ie("")},emscripten_check_blocking_allowed:function(){S||w||Se("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:ge,emscripten_memcpy_big:function(e,n,t){i().copyWithin(e>>>0,n>>>0,n+t>>>0)},emscripten_num_logical_cores:function(){return S?u.cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,n,t){Ae.length=n;for(var a=t>>3,r=0;r<n;r++)Ae[r]=d()[a+r>>>0];return(e<0?pe[-e-1]:Ce[e]).apply(null,Ae)},emscripten_resize_heap:function(e){var n=i().length;if((e>>>=0)<=n)return!1;var t=4294901760;if(e>t)return!1;for(var a,r=1;r<=4;r*=2){var u=n*(1+.2/r);if(u=Math.min(u,e+100663296),xe(Math.min(t,(a=Math.max(e,u))+(65536-a%65536)%65536)))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:he,fd_close:Fe,fd_seek:Ne,fd_write:Ee,memory:O||b.wasmMemory};!function(){var e={env:We,wasi_snapshot_preview1:We};function n(e,n){var t,a,r=e.exports;if(b.asm=r,t=b.asm._emscripten_tls_init,be.tlsInitFunctions.push(t),J=b.asm.__indirect_function_table,a=b.asm.__wasm_call_ctors,$.unshift(a),T=n,!M){var u=be.unusedWorkers.length;be.unusedWorkers.forEach((function(e){be.loadWasmModuleToWorker(e,(function(){--u||function(){if(re--,b.monitorRunDependencies&&b.monitorRunDependencies(re),0==re&&ue){var e=ue;ue=null,e()}}()}))}))}}function t(e){n(e.instance,e.module)}function a(n){return function(){if(!P&&(I||w)){if("function"==typeof fetch&&!oe(ae))return fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch((function(){return de(ae)}));if(_)return new Promise((function(e,n){_(ae,(function(n){e(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return de(ae)}))}().then((function(n){return WebAssembly.instantiate(n,e)})).then((function(e){return e})).then(n,(function(e){W("failed to asynchronously prepare wasm: "+e),ie(e)}))}if(M||(re++,b.monitorRunDependencies&&b.monitorRunDependencies(re)),b.instantiateWasm)try{return b.instantiateWasm(e,n)}catch(e){W("Module.instantiateWasm callback failed with error: "+e),l(e)}(P||"function"!=typeof WebAssembly.instantiateStreaming||se(ae)||oe(ae)||S||"function"!=typeof fetch?a(t):fetch(ae,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(e){return W("wasm streaming compile failed: "+e),W("falling back to ArrayBuffer instantiation"),a(t)}))}))).catch(l)}(),b.___wasm_call_ctors=function(){return(b.___wasm_call_ctors=b.asm.__wasm_call_ctors).apply(null,arguments)},b._init=function(){return(b._init=b.asm.init).apply(null,arguments)},b._init_with_threads_count=function(){return(b._init_with_threads_count=b.asm.init_with_threads_count).apply(null,arguments)},b._get_threads_count=function(){return(b._get_threads_count=b.asm.get_threads_count).apply(null,arguments)},b._register_tensor=function(){return(b._register_tensor=b.asm.register_tensor).apply(null,arguments)},b._dispose_data=function(){return(b._dispose_data=b.asm.dispose_data).apply(null,arguments)},b._dispose=function(){return(b._dispose=b.asm.dispose).apply(null,arguments)},b._Abs=function(){return(b._Abs=b.asm.Abs).apply(null,arguments)},b._Acos=function(){return(b._Acos=b.asm.Acos).apply(null,arguments)},b._Acosh=function(){return(b._Acosh=b.asm.Acosh).apply(null,arguments)},b._Add=function(){return(b._Add=b.asm.Add).apply(null,arguments)},b._AddN=function(){return(b._AddN=b.asm.AddN).apply(null,arguments)},b._All=function(){return(b._All=b.asm.All).apply(null,arguments)},b._Any=function(){return(b._Any=b.asm.Any).apply(null,arguments)},b._ArgMax=function(){return(b._ArgMax=b.asm.ArgMax).apply(null,arguments)},b._ArgMin=function(){return(b._ArgMin=b.asm.ArgMin).apply(null,arguments)},b._Asin=function(){return(b._Asin=b.asm.Asin).apply(null,arguments)},b._Asinh=function(){return(b._Asinh=b.asm.Asinh).apply(null,arguments)},b._Atan=function(){return(b._Atan=b.asm.Atan).apply(null,arguments)},b._Atan2=function(){return(b._Atan2=b.asm.Atan2).apply(null,arguments)},b._Atanh=function(){return(b._Atanh=b.asm.Atanh).apply(null,arguments)},b._AvgPool=function(){return(b._AvgPool=b.asm.AvgPool).apply(null,arguments)},b._AvgPool3D=function(){return(b._AvgPool3D=b.asm.AvgPool3D).apply(null,arguments)},b._AvgPool3DGrad=function(){return(b._AvgPool3DGrad=b.asm.AvgPool3DGrad).apply(null,arguments)},b._AvgPoolGrad=function(){return(b._AvgPoolGrad=b.asm.AvgPoolGrad).apply(null,arguments)},b._BatchMatMul=function(){return(b._BatchMatMul=b.asm.BatchMatMul).apply(null,arguments)},b._Bincount=function(){return(b._Bincount=b.asm.Bincount).apply(null,arguments)},b._BitwiseAnd=function(){return(b._BitwiseAnd=b.asm.BitwiseAnd).apply(null,arguments)},b._Ceil=function(){return(b._Ceil=b.asm.Ceil).apply(null,arguments)},b._ClipByValue=function(){return(b._ClipByValue=b.asm.ClipByValue).apply(null,arguments)},b._Conv2D=function(){return(b._Conv2D=b.asm.Conv2D).apply(null,arguments)},b._Conv2DBackpropInput=function(){return(b._Conv2DBackpropInput=b.asm.Conv2DBackpropInput).apply(null,arguments)},b._Conv3D=function(){return(b._Conv3D=b.asm.Conv3D).apply(null,arguments)},b._Conv3DBackpropFilterV2=function(){return(b._Conv3DBackpropFilterV2=b.asm.Conv3DBackpropFilterV2).apply(null,arguments)},b._Conv3DBackpropInputV2=function(){return(b._Conv3DBackpropInputV2=b.asm.Conv3DBackpropInputV2).apply(null,arguments)},b._Cos=function(){return(b._Cos=b.asm.Cos).apply(null,arguments)},b._Cosh=function(){return(b._Cosh=b.asm.Cosh).apply(null,arguments)},b._CropAndResize=function(){return(b._CropAndResize=b.asm.CropAndResize).apply(null,arguments)},b._Cumprod=function(){return(b._Cumprod=b.asm.Cumprod).apply(null,arguments)},b._Cumsum=function(){return(b._Cumsum=b.asm.Cumsum).apply(null,arguments)},b._DenseBincount=function(){return(b._DenseBincount=b.asm.DenseBincount).apply(null,arguments)},b._DepthToSpace=function(){return(b._DepthToSpace=b.asm.DepthToSpace).apply(null,arguments)},b._DepthwiseConv2dNative=function(){return(b._DepthwiseConv2dNative=b.asm.DepthwiseConv2dNative).apply(null,arguments)},b._Diag=function(){return(b._Diag=b.asm.Diag).apply(null,arguments)},b._Dilation2D=function(){return(b._Dilation2D=b.asm.Dilation2D).apply(null,arguments)},b._Dilation2DBackpropFilter=function(){return(b._Dilation2DBackpropFilter=b.asm.Dilation2DBackpropFilter).apply(null,arguments)},b._Dilation2DBackpropInput=function(){return(b._Dilation2DBackpropInput=b.asm.Dilation2DBackpropInput).apply(null,arguments)},b._Elu=function(){return(b._Elu=b.asm.Elu).apply(null,arguments)},b._EluGrad=function(){return(b._EluGrad=b.asm.EluGrad).apply(null,arguments)},b._Equal=function(){return(b._Equal=b.asm.Equal).apply(null,arguments)},b._Erf=function(){return(b._Erf=b.asm.Erf).apply(null,arguments)},b._Exp=function(){return(b._Exp=b.asm.Exp).apply(null,arguments)},b._Expm1=function(){return(b._Expm1=b.asm.Expm1).apply(null,arguments)},b._FlipLeftRight=function(){return(b._FlipLeftRight=b.asm.FlipLeftRight).apply(null,arguments)},b._Floor=function(){return(b._Floor=b.asm.Floor).apply(null,arguments)},b._FloorDiv=function(){return(b._FloorDiv=b.asm.FloorDiv).apply(null,arguments)},b._FusedBatchNorm=function(){return(b._FusedBatchNorm=b.asm.FusedBatchNorm).apply(null,arguments)},b._FusedConv2D=function(){return(b._FusedConv2D=b.asm.FusedConv2D).apply(null,arguments)},b._FusedDepthwiseConv2D=function(){return(b._FusedDepthwiseConv2D=b.asm.FusedDepthwiseConv2D).apply(null,arguments)},b._Gather=function(){return(b._Gather=b.asm.Gather).apply(null,arguments)},b._GatherNd=function(){return(b._GatherNd=b.asm.GatherNd).apply(null,arguments)},b._Greater=function(){return(b._Greater=b.asm.Greater).apply(null,arguments)},b._GreaterEqual=function(){return(b._GreaterEqual=b.asm.GreaterEqual).apply(null,arguments)},b._IsFinite=function(){return(b._IsFinite=b.asm.IsFinite).apply(null,arguments)},b._IsInf=function(){return(b._IsInf=b.asm.IsInf).apply(null,arguments)},b._IsNan=function(){return(b._IsNan=b.asm.IsNan).apply(null,arguments)},b._LRN=function(){return(b._LRN=b.asm.LRN).apply(null,arguments)},b._LRNGrad=function(){return(b._LRNGrad=b.asm.LRNGrad).apply(null,arguments)},b._LeakyRelu=function(){return(b._LeakyRelu=b.asm.LeakyRelu).apply(null,arguments)},b._Less=function(){return(b._Less=b.asm.Less).apply(null,arguments)},b._LessEqual=function(){return(b._LessEqual=b.asm.LessEqual).apply(null,arguments)},b._LinSpace=function(){return(b._LinSpace=b.asm.LinSpace).apply(null,arguments)},b._Log=function(){return(b._Log=b.asm.Log).apply(null,arguments)},b._Log1p=function(){return(b._Log1p=b.asm.Log1p).apply(null,arguments)},b._LogicalAnd=function(){return(b._LogicalAnd=b.asm.LogicalAnd).apply(null,arguments)},b._LogicalNot=function(){return(b._LogicalNot=b.asm.LogicalNot).apply(null,arguments)},b._LogicalOr=function(){return(b._LogicalOr=b.asm.LogicalOr).apply(null,arguments)},b._LogicalXor=function(){return(b._LogicalXor=b.asm.LogicalXor).apply(null,arguments)},b._Max=function(){return(b._Max=b.asm.Max).apply(null,arguments)},b._MaxPool=function(){return(b._MaxPool=b.asm.MaxPool).apply(null,arguments)},b._MaxPool3D=function(){return(b._MaxPool3D=b.asm.MaxPool3D).apply(null,arguments)},b._MaxPool3DGrad=function(){return(b._MaxPool3DGrad=b.asm.MaxPool3DGrad).apply(null,arguments)},b._MaxPoolGrad=function(){return(b._MaxPoolGrad=b.asm.MaxPoolGrad).apply(null,arguments)},b._MaxPoolWithArgmax=function(){return(b._MaxPoolWithArgmax=b.asm.MaxPoolWithArgmax).apply(null,arguments)},b._Maximum=function(){return(b._Maximum=b.asm.Maximum).apply(null,arguments)},b._Mean=function(){return(b._Mean=b.asm.Mean).apply(null,arguments)},b._Min=function(){return(b._Min=b.asm.Min).apply(null,arguments)},b._Minimum=function(){return(b._Minimum=b.asm.Minimum).apply(null,arguments)},b._MirrorPad=function(){return(b._MirrorPad=b.asm.MirrorPad).apply(null,arguments)},b._Mod=function(){return(b._Mod=b.asm.Mod).apply(null,arguments)},b._Multinomial=function(){return(b._Multinomial=b.asm.Multinomial).apply(null,arguments)},b._Multiply=function(){return(b._Multiply=b.asm.Multiply).apply(null,arguments)},b._Neg=function(){return(b._Neg=b.asm.Neg).apply(null,arguments)},b._NonMaxSuppressionV3=function(){return(b._NonMaxSuppressionV3=b.asm.NonMaxSuppressionV3).apply(null,arguments)},b._NonMaxSuppressionV4=function(){return(b._NonMaxSuppressionV4=b.asm.NonMaxSuppressionV4).apply(null,arguments)},b._NonMaxSuppressionV5=function(){return(b._NonMaxSuppressionV5=b.asm.NonMaxSuppressionV5).apply(null,arguments)},b._NotEqual=function(){return(b._NotEqual=b.asm.NotEqual).apply(null,arguments)},b._OneHot=function(){return(b._OneHot=b.asm.OneHot).apply(null,arguments)},b._PadV2=function(){return(b._PadV2=b.asm.PadV2).apply(null,arguments)},b._Pow=function(){return(b._Pow=b.asm.Pow).apply(null,arguments)},b._Prelu=function(){return(b._Prelu=b.asm.Prelu).apply(null,arguments)},b._Prod=function(){return(b._Prod=b.asm.Prod).apply(null,arguments)},b._RealDiv=function(){return(b._RealDiv=b.asm.RealDiv).apply(null,arguments)},b._Reciprocal=function(){return(b._Reciprocal=b.asm.Reciprocal).apply(null,arguments)},b._Relu=function(){return(b._Relu=b.asm.Relu).apply(null,arguments)},b._Relu6=function(){return(b._Relu6=b.asm.Relu6).apply(null,arguments)},b._ResizeBilinear=function(){return(b._ResizeBilinear=b.asm.ResizeBilinear).apply(null,arguments)},b._ResizeBilinearGrad=function(){return(b._ResizeBilinearGrad=b.asm.ResizeBilinearGrad).apply(null,arguments)},b._ResizeNearestNeighbor=function(){return(b._ResizeNearestNeighbor=b.asm.ResizeNearestNeighbor).apply(null,arguments)},b._ResizeNearestNeighborGrad=function(){return(b._ResizeNearestNeighborGrad=b.asm.ResizeNearestNeighborGrad).apply(null,arguments)},b._Reverse=function(){return(b._Reverse=b.asm.Reverse).apply(null,arguments)},b._RotateWithOffset=function(){return(b._RotateWithOffset=b.asm.RotateWithOffset).apply(null,arguments)},b._Round=function(){return(b._Round=b.asm.Round).apply(null,arguments)},b._Rsqrt=function(){return(b._Rsqrt=b.asm.Rsqrt).apply(null,arguments)},b._ScatterNd=function(){return(b._ScatterNd=b.asm.ScatterNd).apply(null,arguments)},b._SearchSorted=function(){return(b._SearchSorted=b.asm.SearchSorted).apply(null,arguments)},b._SelectV2=function(){return(b._SelectV2=b.asm.SelectV2).apply(null,arguments)},b._Selu=function(){return(b._Selu=b.asm.Selu).apply(null,arguments)},b._Sigmoid=function(){return(b._Sigmoid=b.asm.Sigmoid).apply(null,arguments)},b._Sign=function(){return(b._Sign=b.asm.Sign).apply(null,arguments)},b._Sin=function(){return(b._Sin=b.asm.Sin).apply(null,arguments)},b._Sinh=function(){return(b._Sinh=b.asm.Sinh).apply(null,arguments)},b._Softmax=function(){return(b._Softmax=b.asm.Softmax).apply(null,arguments)},b._Softplus=function(){return(b._Softplus=b.asm.Softplus).apply(null,arguments)},b._SparseFillEmptyRows=function(){return(b._SparseFillEmptyRows=b.asm.SparseFillEmptyRows).apply(null,arguments)},b._SparseReshape=function(){return(b._SparseReshape=b.asm.SparseReshape).apply(null,arguments)},b._SparseSegmentReduction=function(){return(b._SparseSegmentReduction=b.asm.SparseSegmentReduction).apply(null,arguments)},b._SparseToDense=function(){return(b._SparseToDense=b.asm.SparseToDense).apply(null,arguments)},b._Sqrt=function(){return(b._Sqrt=b.asm.Sqrt).apply(null,arguments)},b._Square=function(){return(b._Square=b.asm.Square).apply(null,arguments)},b._SquaredDifference=function(){return(b._SquaredDifference=b.asm.SquaredDifference).apply(null,arguments)},b._Step=function(){return(b._Step=b.asm.Step).apply(null,arguments)},b._StridedSlice=function(){return(b._StridedSlice=b.asm.StridedSlice).apply(null,arguments)},b._Sub=function(){return(b._Sub=b.asm.Sub).apply(null,arguments)},b._Sum=function(){return(b._Sum=b.asm.Sum).apply(null,arguments)},b._Tan=function(){return(b._Tan=b.asm.Tan).apply(null,arguments)},b._Tanh=function(){return(b._Tanh=b.asm.Tanh).apply(null,arguments)},b._TensorScatterUpdate=function(){return(b._TensorScatterUpdate=b.asm.TensorScatterUpdate).apply(null,arguments)},b._Tile=function(){return(b._Tile=b.asm.Tile).apply(null,arguments)},b._TopK=function(){return(b._TopK=b.asm.TopK).apply(null,arguments)},b._Transform=function(){return(b._Transform=b.asm.Transform).apply(null,arguments)},b._Transpose=function(){return(b._Transpose=b.asm.Transpose).apply(null,arguments)},b.__FusedMatMul=function(){return(b.__FusedMatMul=b.asm._FusedMatMul).apply(null,arguments)},b._malloc=function(){return(b._malloc=b.asm.malloc).apply(null,arguments)},b._free=function(){return(b._free=b.asm.free).apply(null,arguments)},b.__emscripten_tls_init=function(){return(b.__emscripten_tls_init=b.asm._emscripten_tls_init).apply(null,arguments)};var Oe=b._pthread_self=function(){return(Oe=b._pthread_self=b.asm.pthread_self).apply(null,arguments)};b.___errno_location=function(){return(b.___errno_location=b.asm.__errno_location).apply(null,arguments)};var Te=b.__emscripten_thread_init=function(){return(Te=b.__emscripten_thread_init=b.asm._emscripten_thread_init).apply(null,arguments)};b.__emscripten_thread_crashed=function(){return(b.__emscripten_thread_crashed=b.asm._emscripten_thread_crashed).apply(null,arguments)},b._emscripten_main_thread_process_queued_calls=function(){return(b._emscripten_main_thread_process_queued_calls=b.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},b._emscripten_main_browser_thread_id=function(){return(b._emscripten_main_browser_thread_id=b.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var ze=b._emscripten_run_in_main_runtime_thread_js=function(){return(ze=b._emscripten_run_in_main_runtime_thread_js=b.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};b._emscripten_dispatch_to_thread_=function(){return(b._emscripten_dispatch_to_thread_=b.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var Be,He,Le,Ge=b.__emscripten_proxy_execute_task_queue=function(){return(Ge=b.__emscripten_proxy_execute_task_queue=b.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},Ue=b.__emscripten_thread_free_data=function(){return(Ue=b.__emscripten_thread_free_data=b.asm._emscripten_thread_free_data).apply(null,arguments)},je=b.__emscripten_thread_exit=function(){return(je=b.__emscripten_thread_exit=b.asm._emscripten_thread_exit).apply(null,arguments)},qe=b._emscripten_stack_set_limits=function(){return(qe=b._emscripten_stack_set_limits=b.asm.emscripten_stack_set_limits).apply(null,arguments)},Ve=b.stackSave=function(){return(Ve=b.stackSave=b.asm.stackSave).apply(null,arguments)},Ke=b.stackRestore=function(){return(Ke=b.stackRestore=b.asm.stackRestore).apply(null,arguments)},Xe=b.stackAlloc=function(){return(Xe=b.stackAlloc=b.asm.stackAlloc).apply(null,arguments)};function Qe(e){if(!(re>0)){if(M)return p(b),te(),void startWorker(b);!function(){if(b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)e=b.preRun.shift(),Y.unshift(e);var e;ye(Y)}(),re>0||(b.setStatus?(b.setStatus("Running..."),setTimeout((function(){setTimeout((function(){b.setStatus("")}),1),n()}),1)):n())}function n(){Be||(Be=!0,b.calledRun=!0,V||(te(),p(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),function(){if(!M){if(b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;)e=b.postRun.shift(),ee.unshift(e);var e;ye(ee)}}()))}}if(b.dynCall_iijjiiii=function(){return(b.dynCall_iijjiiii=b.asm.dynCall_iijjiiii).apply(null,arguments)},b.dynCall_jiji=function(){return(b.dynCall_jiji=b.asm.dynCall_jiji).apply(null,arguments)},b.keepRuntimeAlive=ne,b.wasmMemory=O,b.cwrap=function(e,n,t,a){var r=(t=t||[]).every((function(e){return"number"===e||"boolean"===e}));return"string"!==n&&r&&!a?Pe(e):function(){return function(e,n,t,a){var r={string:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);!function(e,n,t){!function(e,n,t,a){if(!(a>0))return 0;for(var r=(t>>>=0)+a-1,u=0;u<e.length;++u){var i=e.charCodeAt(u);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++u)),i<=127){if(t>=r)break;n[t++>>>0]=i}else if(i<=2047){if(t+1>=r)break;n[t++>>>0]=192|i>>6,n[t++>>>0]=128|63&i}else if(i<=65535){if(t+2>=r)break;n[t++>>>0]=224|i>>12,n[t++>>>0]=128|i>>6&63,n[t++>>>0]=128|63&i}else{if(t+3>=r)break;n[t++>>>0]=240|i>>18,n[t++>>>0]=128|i>>12&63,n[t++>>>0]=128|i>>6&63,n[t++>>>0]=128|63&i}}n[t>>>0]=0}(e,i(),n,t)}(e,n=Xe(t),t)}return n},array:function(e){var n=Xe(e.length);return function(e,n){(O.buffer!=H&&Q(O.buffer),L).set(e,n>>>0)}(e,n),n}},u=Pe(e),s=[],o=0;if(a)for(var d=0;d<a.length;d++){var p=r[t[d]];p?(0===o&&(o=Ve()),s[d]=p(a[d])):s[d]=a[d]}return function(e){return 0!==o&&Ke(o),function(e){return"string"===n?(t=e,(t>>>=0)?X(i(),t,void 0):""):"boolean"===n?Boolean(e):e;var t}(e)}(u.apply(null,s))}(e,n,t,arguments)}},b.ExitStatus=le,b.PThread=be,ue=function e(){Be||Qe(),Be||(ue=e)},b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);b.preInit.length>0;)b.preInit.pop()();if(Qe(),c&&(He={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!c.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!c.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)Le=WasmBackendModule;else{if(void 0===e)throw new Error("Could not find wasm module in post.js");Le=e}if(He){var Je=Le._dispose;Le._dispose=function(){Je(),He.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),He.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=i}(pr);var lr=pr.exports,cr=dr(lr),mr=i({__proto__:null,default:cr},[lr]),fr={exports:{}};!function(e){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(e){var r,u,i,s=void 0!==(e=e||{})?e:{};s.ready=new Promise((function(e,n){r=e,u=n})),"undefined"!=typeof process&&process.listeners&&(i={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var o,d,p,l=Object.assign({},s),c="object"==typeof window,m="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";if(f){var b=t,y=a;h=m?y.dirname(h)+"/":__dirname+"/",o=function(e,n){return e=B(e)?new URL(e):y.normalize(e),b.readFileSync(e,n?void 0:"utf8")},p=function(e){var n=o(e,!0);return n.buffer||(n=new Uint8Array(n)),n},d=function(e,n,t){e=B(e)?new URL(e):y.normalize(e),b.readFile(e,(function(e,a){e?t(e):n(a.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof L))throw e})),process.on("unhandledRejection",(function(e){throw e})),s.inspect=function(){return"[Emscripten Module object]"}}else(c||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),n&&(h=n),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},m&&(p=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),d=function(e,n,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?n(a.response):t()},a.onerror=t,a.send(null)});var _,g,k=s.print||console.log.bind(console),v=s.printErr||console.warn.bind(console);Object.assign(s,l),l=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&(_=s.wasmBinary),s.noExitRuntime,"object"!=typeof WebAssembly&&T("no native wasm support detected");var I,w,S,M,A=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,n,t){for(var a=(n>>>=0)+t,r=n;e[r]&&!(r>=a);)++r;if(r-n>16&&e.buffer&&x)return x.decode(e.subarray(n,r));for(var u="";n<r;){var i=e[n++];if(128&i){var s=63&e[n++];if(192!=(224&i)){var o=63&e[n++];if((i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&e[n++])<65536)u+=String.fromCharCode(i);else{var d=i-65536;u+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else u+=String.fromCharCode((31&i)<<6|s)}else u+=String.fromCharCode(i)}return u}function N(e){I=e,s.HEAP8=w=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=new Int32Array(e),s.HEAPU8=S=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=M=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}s.INITIAL_MEMORY;var D,R,E=[],P=[],C=[],W=0,O=null;function T(e){s.onAbort&&s.onAbort(e),v(e="Aborted("+e+")"),A=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw u(n),n}function z(e){return e.startsWith("data:application/octet-stream;base64,")}function B(e){return e.startsWith("file://")}function H(e){try{if(e==D&&_)return new Uint8Array(_);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){T(e)}}function L(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function G(e){for(;e.length>0;)e.shift()(s)}function U(e){try{return g.grow(e-I.byteLength+65535>>>16),N(g.buffer),1}catch(e){}}z(D="tfjs-backend-wasm.wasm")||(R=D,D=s.locateFile?s.locateFile(R,h):h+R);var j=[null,[],[]];function q(e,n){var t=j[e];0===n||10===n?((1===e?k:v)(F(t,0)),t.length=0):t.push(n)}function V(e){return s["_"+e]}var K={abort:function(){T("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,n,t){S.copyWithin(e>>>0,n>>>0,n+t>>>0)},emscripten_resize_heap:function(e){var n=S.length,t=4294901760;if((e>>>=0)>t)return!1;for(var a,r=1;r<=4;r*=2){var u=n*(1+.2/r);if(u=Math.min(u,e+100663296),U(Math.min(t,(a=Math.max(e,u))+(65536-a%65536)%65536)))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,n,t,a,r){return 70},fd_write:function(e,n,t,a){for(var r=0,u=0;u<t;u++){var i=M[n>>>2],s=M[n+4>>>2];n+=8;for(var o=0;o<s;o++)q(e,S[i+o>>>0]);r+=s}return M[a>>>2]=r,0}};!function(){var e={env:K,wasi_snapshot_preview1:K};function n(e,n){var t,a=e.exports;s.asm=a,N((g=s.asm.memory).buffer),s.asm.__indirect_function_table,t=s.asm.__wasm_call_ctors,P.unshift(t),function(){if(W--,s.monitorRunDependencies&&s.monitorRunDependencies(W),0==W&&O){var e=O;O=null,e()}}()}function t(e){n(e.instance)}function a(n){return function(){if(!_&&(c||m)){if("function"==typeof fetch&&!B(D))return fetch(D,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+D+"'";return e.arrayBuffer()})).catch((function(){return H(D)}));if(d)return new Promise((function(e,n){d(D,(function(n){e(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return H(D)}))}().then((function(n){return WebAssembly.instantiate(n,e)})).then((function(e){return e})).then(n,(function(e){v("failed to asynchronously prepare wasm: "+e),T(e)}))}if(W++,s.monitorRunDependencies&&s.monitorRunDependencies(W),s.instantiateWasm)try{return s.instantiateWasm(e,n)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),u(e)}(_||"function"!=typeof WebAssembly.instantiateStreaming||z(D)||B(D)||f||"function"!=typeof fetch?a(t):fetch(D,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),a(t)}))}))).catch(u)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s._init=function(){return(s._init=s.asm.init).apply(null,arguments)},s._init_with_threads_count=function(){return(s._init_with_threads_count=s.asm.init_with_threads_count).apply(null,arguments)},s._get_threads_count=function(){return(s._get_threads_count=s.asm.get_threads_count).apply(null,arguments)},s._register_tensor=function(){return(s._register_tensor=s.asm.register_tensor).apply(null,arguments)},s._dispose_data=function(){return(s._dispose_data=s.asm.dispose_data).apply(null,arguments)},s._dispose=function(){return(s._dispose=s.asm.dispose).apply(null,arguments)},s._Abs=function(){return(s._Abs=s.asm.Abs).apply(null,arguments)},s._Acos=function(){return(s._Acos=s.asm.Acos).apply(null,arguments)},s._Acosh=function(){return(s._Acosh=s.asm.Acosh).apply(null,arguments)},s._Add=function(){return(s._Add=s.asm.Add).apply(null,arguments)},s._AddN=function(){return(s._AddN=s.asm.AddN).apply(null,arguments)},s._All=function(){return(s._All=s.asm.All).apply(null,arguments)},s._Any=function(){return(s._Any=s.asm.Any).apply(null,arguments)},s._ArgMax=function(){return(s._ArgMax=s.asm.ArgMax).apply(null,arguments)},s._ArgMin=function(){return(s._ArgMin=s.asm.ArgMin).apply(null,arguments)},s._Asin=function(){return(s._Asin=s.asm.Asin).apply(null,arguments)},s._Asinh=function(){return(s._Asinh=s.asm.Asinh).apply(null,arguments)},s._Atan=function(){return(s._Atan=s.asm.Atan).apply(null,arguments)},s._Atan2=function(){return(s._Atan2=s.asm.Atan2).apply(null,arguments)},s._Atanh=function(){return(s._Atanh=s.asm.Atanh).apply(null,arguments)},s._AvgPool=function(){return(s._AvgPool=s.asm.AvgPool).apply(null,arguments)},s._AvgPool3D=function(){return(s._AvgPool3D=s.asm.AvgPool3D).apply(null,arguments)},s._AvgPool3DGrad=function(){return(s._AvgPool3DGrad=s.asm.AvgPool3DGrad).apply(null,arguments)},s._AvgPoolGrad=function(){return(s._AvgPoolGrad=s.asm.AvgPoolGrad).apply(null,arguments)},s._BatchMatMul=function(){return(s._BatchMatMul=s.asm.BatchMatMul).apply(null,arguments)},s._Bincount=function(){return(s._Bincount=s.asm.Bincount).apply(null,arguments)},s._BitwiseAnd=function(){return(s._BitwiseAnd=s.asm.BitwiseAnd).apply(null,arguments)},s._Ceil=function(){return(s._Ceil=s.asm.Ceil).apply(null,arguments)},s._ClipByValue=function(){return(s._ClipByValue=s.asm.ClipByValue).apply(null,arguments)},s._Conv2D=function(){return(s._Conv2D=s.asm.Conv2D).apply(null,arguments)},s._Conv2DBackpropInput=function(){return(s._Conv2DBackpropInput=s.asm.Conv2DBackpropInput).apply(null,arguments)},s._Conv3D=function(){return(s._Conv3D=s.asm.Conv3D).apply(null,arguments)},s._Conv3DBackpropFilterV2=function(){return(s._Conv3DBackpropFilterV2=s.asm.Conv3DBackpropFilterV2).apply(null,arguments)},s._Conv3DBackpropInputV2=function(){return(s._Conv3DBackpropInputV2=s.asm.Conv3DBackpropInputV2).apply(null,arguments)},s._Cos=function(){return(s._Cos=s.asm.Cos).apply(null,arguments)},s._Cosh=function(){return(s._Cosh=s.asm.Cosh).apply(null,arguments)},s._CropAndResize=function(){return(s._CropAndResize=s.asm.CropAndResize).apply(null,arguments)},s._Cumprod=function(){return(s._Cumprod=s.asm.Cumprod).apply(null,arguments)},s._Cumsum=function(){return(s._Cumsum=s.asm.Cumsum).apply(null,arguments)},s._DenseBincount=function(){return(s._DenseBincount=s.asm.DenseBincount).apply(null,arguments)},s._DepthToSpace=function(){return(s._DepthToSpace=s.asm.DepthToSpace).apply(null,arguments)},s._DepthwiseConv2dNative=function(){return(s._DepthwiseConv2dNative=s.asm.DepthwiseConv2dNative).apply(null,arguments)},s._Diag=function(){return(s._Diag=s.asm.Diag).apply(null,arguments)},s._Dilation2D=function(){return(s._Dilation2D=s.asm.Dilation2D).apply(null,arguments)},s._Dilation2DBackpropFilter=function(){return(s._Dilation2DBackpropFilter=s.asm.Dilation2DBackpropFilter).apply(null,arguments)},s._Dilation2DBackpropInput=function(){return(s._Dilation2DBackpropInput=s.asm.Dilation2DBackpropInput).apply(null,arguments)},s._Elu=function(){return(s._Elu=s.asm.Elu).apply(null,arguments)},s._EluGrad=function(){return(s._EluGrad=s.asm.EluGrad).apply(null,arguments)},s._Equal=function(){return(s._Equal=s.asm.Equal).apply(null,arguments)},s._Erf=function(){return(s._Erf=s.asm.Erf).apply(null,arguments)},s._Exp=function(){return(s._Exp=s.asm.Exp).apply(null,arguments)},s._Expm1=function(){return(s._Expm1=s.asm.Expm1).apply(null,arguments)},s._FlipLeftRight=function(){return(s._FlipLeftRight=s.asm.FlipLeftRight).apply(null,arguments)},s._Floor=function(){return(s._Floor=s.asm.Floor).apply(null,arguments)},s._FloorDiv=function(){return(s._FloorDiv=s.asm.FloorDiv).apply(null,arguments)},s._FusedBatchNorm=function(){return(s._FusedBatchNorm=s.asm.FusedBatchNorm).apply(null,arguments)},s._FusedConv2D=function(){return(s._FusedConv2D=s.asm.FusedConv2D).apply(null,arguments)},s._FusedDepthwiseConv2D=function(){return(s._FusedDepthwiseConv2D=s.asm.FusedDepthwiseConv2D).apply(null,arguments)},s._Gather=function(){return(s._Gather=s.asm.Gather).apply(null,arguments)},s._GatherNd=function(){return(s._GatherNd=s.asm.GatherNd).apply(null,arguments)},s._Greater=function(){return(s._Greater=s.asm.Greater).apply(null,arguments)},s._GreaterEqual=function(){return(s._GreaterEqual=s.asm.GreaterEqual).apply(null,arguments)},s._IsFinite=function(){return(s._IsFinite=s.asm.IsFinite).apply(null,arguments)},s._IsInf=function(){return(s._IsInf=s.asm.IsInf).apply(null,arguments)},s._IsNan=function(){return(s._IsNan=s.asm.IsNan).apply(null,arguments)},s._LRN=function(){return(s._LRN=s.asm.LRN).apply(null,arguments)},s._LRNGrad=function(){return(s._LRNGrad=s.asm.LRNGrad).apply(null,arguments)},s._LeakyRelu=function(){return(s._LeakyRelu=s.asm.LeakyRelu).apply(null,arguments)},s._Less=function(){return(s._Less=s.asm.Less).apply(null,arguments)},s._LessEqual=function(){return(s._LessEqual=s.asm.LessEqual).apply(null,arguments)},s._LinSpace=function(){return(s._LinSpace=s.asm.LinSpace).apply(null,arguments)},s._Log=function(){return(s._Log=s.asm.Log).apply(null,arguments)},s._Log1p=function(){return(s._Log1p=s.asm.Log1p).apply(null,arguments)},s._LogicalAnd=function(){return(s._LogicalAnd=s.asm.LogicalAnd).apply(null,arguments)},s._LogicalNot=function(){return(s._LogicalNot=s.asm.LogicalNot).apply(null,arguments)},s._LogicalOr=function(){return(s._LogicalOr=s.asm.LogicalOr).apply(null,arguments)},s._LogicalXor=function(){return(s._LogicalXor=s.asm.LogicalXor).apply(null,arguments)},s._Max=function(){return(s._Max=s.asm.Max).apply(null,arguments)},s._MaxPool=function(){return(s._MaxPool=s.asm.MaxPool).apply(null,arguments)},s._MaxPool3D=function(){return(s._MaxPool3D=s.asm.MaxPool3D).apply(null,arguments)},s._MaxPool3DGrad=function(){return(s._MaxPool3DGrad=s.asm.MaxPool3DGrad).apply(null,arguments)},s._MaxPoolGrad=function(){return(s._MaxPoolGrad=s.asm.MaxPoolGrad).apply(null,arguments)},s._MaxPoolWithArgmax=function(){return(s._MaxPoolWithArgmax=s.asm.MaxPoolWithArgmax).apply(null,arguments)},s._Maximum=function(){return(s._Maximum=s.asm.Maximum).apply(null,arguments)},s._Mean=function(){return(s._Mean=s.asm.Mean).apply(null,arguments)},s._Min=function(){return(s._Min=s.asm.Min).apply(null,arguments)},s._Minimum=function(){return(s._Minimum=s.asm.Minimum).apply(null,arguments)},s._MirrorPad=function(){return(s._MirrorPad=s.asm.MirrorPad).apply(null,arguments)},s._Mod=function(){return(s._Mod=s.asm.Mod).apply(null,arguments)},s._Multinomial=function(){return(s._Multinomial=s.asm.Multinomial).apply(null,arguments)},s._Multiply=function(){return(s._Multiply=s.asm.Multiply).apply(null,arguments)},s._Neg=function(){return(s._Neg=s.asm.Neg).apply(null,arguments)},s._NonMaxSuppressionV3=function(){return(s._NonMaxSuppressionV3=s.asm.NonMaxSuppressionV3).apply(null,arguments)},s._NonMaxSuppressionV4=function(){return(s._NonMaxSuppressionV4=s.asm.NonMaxSuppressionV4).apply(null,arguments)},s._NonMaxSuppressionV5=function(){return(s._NonMaxSuppressionV5=s.asm.NonMaxSuppressionV5).apply(null,arguments)},s._NotEqual=function(){return(s._NotEqual=s.asm.NotEqual).apply(null,arguments)},s._OneHot=function(){return(s._OneHot=s.asm.OneHot).apply(null,arguments)},s._PadV2=function(){return(s._PadV2=s.asm.PadV2).apply(null,arguments)},s._Pow=function(){return(s._Pow=s.asm.Pow).apply(null,arguments)},s._Prelu=function(){return(s._Prelu=s.asm.Prelu).apply(null,arguments)},s._Prod=function(){return(s._Prod=s.asm.Prod).apply(null,arguments)},s._RealDiv=function(){return(s._RealDiv=s.asm.RealDiv).apply(null,arguments)},s._Reciprocal=function(){return(s._Reciprocal=s.asm.Reciprocal).apply(null,arguments)},s._Relu=function(){return(s._Relu=s.asm.Relu).apply(null,arguments)},s._Relu6=function(){return(s._Relu6=s.asm.Relu6).apply(null,arguments)},s._ResizeBilinear=function(){return(s._ResizeBilinear=s.asm.ResizeBilinear).apply(null,arguments)},s._ResizeBilinearGrad=function(){return(s._ResizeBilinearGrad=s.asm.ResizeBilinearGrad).apply(null,arguments)},s._ResizeNearestNeighbor=function(){return(s._ResizeNearestNeighbor=s.asm.ResizeNearestNeighbor).apply(null,arguments)},s._ResizeNearestNeighborGrad=function(){return(s._ResizeNearestNeighborGrad=s.asm.ResizeNearestNeighborGrad).apply(null,arguments)},s._Reverse=function(){return(s._Reverse=s.asm.Reverse).apply(null,arguments)},s._RotateWithOffset=function(){return(s._RotateWithOffset=s.asm.RotateWithOffset).apply(null,arguments)},s._Round=function(){return(s._Round=s.asm.Round).apply(null,arguments)},s._Rsqrt=function(){return(s._Rsqrt=s.asm.Rsqrt).apply(null,arguments)},s._ScatterNd=function(){return(s._ScatterNd=s.asm.ScatterNd).apply(null,arguments)},s._SearchSorted=function(){return(s._SearchSorted=s.asm.SearchSorted).apply(null,arguments)},s._SelectV2=function(){return(s._SelectV2=s.asm.SelectV2).apply(null,arguments)},s._Selu=function(){return(s._Selu=s.asm.Selu).apply(null,arguments)},s._Sigmoid=function(){return(s._Sigmoid=s.asm.Sigmoid).apply(null,arguments)},s._Sign=function(){return(s._Sign=s.asm.Sign).apply(null,arguments)},s._Sin=function(){return(s._Sin=s.asm.Sin).apply(null,arguments)},s._Sinh=function(){return(s._Sinh=s.asm.Sinh).apply(null,arguments)},s._Softmax=function(){return(s._Softmax=s.asm.Softmax).apply(null,arguments)},s._Softplus=function(){return(s._Softplus=s.asm.Softplus).apply(null,arguments)},s._SparseFillEmptyRows=function(){return(s._SparseFillEmptyRows=s.asm.SparseFillEmptyRows).apply(null,arguments)},s._SparseReshape=function(){return(s._SparseReshape=s.asm.SparseReshape).apply(null,arguments)},s._SparseSegmentReduction=function(){return(s._SparseSegmentReduction=s.asm.SparseSegmentReduction).apply(null,arguments)},s._SparseToDense=function(){return(s._SparseToDense=s.asm.SparseToDense).apply(null,arguments)},s._Sqrt=function(){return(s._Sqrt=s.asm.Sqrt).apply(null,arguments)},s._Square=function(){return(s._Square=s.asm.Square).apply(null,arguments)},s._SquaredDifference=function(){return(s._SquaredDifference=s.asm.SquaredDifference).apply(null,arguments)},s._Step=function(){return(s._Step=s.asm.Step).apply(null,arguments)},s._StridedSlice=function(){return(s._StridedSlice=s.asm.StridedSlice).apply(null,arguments)},s._Sub=function(){return(s._Sub=s.asm.Sub).apply(null,arguments)},s._Sum=function(){return(s._Sum=s.asm.Sum).apply(null,arguments)},s._Tan=function(){return(s._Tan=s.asm.Tan).apply(null,arguments)},s._Tanh=function(){return(s._Tanh=s.asm.Tanh).apply(null,arguments)},s._TensorScatterUpdate=function(){return(s._TensorScatterUpdate=s.asm.TensorScatterUpdate).apply(null,arguments)},s._Tile=function(){return(s._Tile=s.asm.Tile).apply(null,arguments)},s._TopK=function(){return(s._TopK=s.asm.TopK).apply(null,arguments)},s._Transform=function(){return(s._Transform=s.asm.Transform).apply(null,arguments)},s._Transpose=function(){return(s._Transpose=s.asm.Transpose).apply(null,arguments)},s.__FusedMatMul=function(){return(s.__FusedMatMul=s.asm._FusedMatMul).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.malloc).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s.___errno_location=function(){return(s.___errno_location=s.asm.__errno_location).apply(null,arguments)};var X,Q,J,Z=s.stackSave=function(){return(Z=s.stackSave=s.asm.stackSave).apply(null,arguments)},Y=s.stackRestore=function(){return(Y=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},$=s.stackAlloc=function(){return($=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)};function ee(e){function n(){X||(X=!0,s.calledRun=!0,A||(G(P),r(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)e=s.postRun.shift(),C.unshift(e);var e;G(C)}()))}W>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)e=s.preRun.shift(),E.unshift(e);var e;G(E)}(),W>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),n()}),1)):n()))}if(s.dynCall_iijjiiii=function(){return(s.dynCall_iijjiiii=s.asm.dynCall_iijjiiii).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.dynCall_jiji).apply(null,arguments)},s.cwrap=function(e,n,t,a){var r=(t=t||[]).every((function(e){return"number"===e||"boolean"===e}));return"string"!==n&&r&&!a?V(e):function(){return function(e,n,t,a){var r={string:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);!function(e,n,t){!function(e,n,t,a){if(!(a>0))return 0;for(var r=(t>>>=0)+a-1,u=0;u<e.length;++u){var i=e.charCodeAt(u);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++u)),i<=127){if(t>=r)break;n[t++>>>0]=i}else if(i<=2047){if(t+1>=r)break;n[t++>>>0]=192|i>>6,n[t++>>>0]=128|63&i}else if(i<=65535){if(t+2>=r)break;n[t++>>>0]=224|i>>12,n[t++>>>0]=128|i>>6&63,n[t++>>>0]=128|63&i}else{if(t+3>=r)break;n[t++>>>0]=240|i>>18,n[t++>>>0]=128|i>>12&63,n[t++>>>0]=128|i>>6&63,n[t++>>>0]=128|63&i}}n[t>>>0]=0}(e,S,n,t)}(e,n=$(t),t)}return n},array:function(e){var n=$(e.length);return function(e,n){w.set(e,n>>>0)}(e,n),n}},u=V(e),i=[],s=0;if(a)for(var o=0;o<a.length;o++){var d=r[t[o]];d?(0===s&&(s=Z()),i[o]=d(a[o])):i[o]=a[o]}return function(e){return 0!==s&&Y(s),function(e){return"string"===n?(t=e,(t>>>=0)?F(S,t,void 0):""):"boolean"===n?Boolean(e):e;var t}(e)}(u.apply(null,i))}(e,n,t,arguments)}},O=function e(){X||ee(),X||(O=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();if(ee(),i&&(Q={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!i.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!i.unhandledRejection.indexOf(e)>-1}))}),void 0!==e)J=e;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");J=WasmBackendModuleThreadedSimd}if(Q){var ne=J._dispose;J._dispose=function(){ne(),Q.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Q.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=r}(fr);var hr=fr.exports,br=dr(hr),yr=cr||mr,_r=br||i({__proto__:null,default:br},[hr]),gr=function(e){function t(t){var a=e.call(this)||this;return a.wasm=t,a.dataIdNextNumber=1,a.wasm.tfjs.initWithThreadsCount(Fr),Nr=a.wasm.tfjs.getThreadsCount(),a.dataIdMap=new n.DataStorage(a,n.engine()),a}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}p(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(t,e),t.prototype.write=function(e,n,t){var a={id:this.dataIdNextNumber++};return this.move(a,e,n,t,1),a},t.prototype.numDataIds=function(){return this.dataIdMap.numDataIds()},t.prototype.time=function(e){return l(this,void 0,void 0,(function(){var t;return c(this,(function(a){return t=n.util.now(),e(),[2,{kernelMs:n.util.now()-t}]}))}))},t.prototype.move=function(e,t,a,r,u){var i=this.dataIdNextNumber++;if("string"!==r){var s=n.util.sizeFromShape(a),o=s*n.util.bytesPerElement(r),d=this.wasm._malloc(o)>>>0;this.dataIdMap.set(e,{id:i,memoryOffset:d,shape:a,dtype:r,refCount:u}),this.wasm.tfjs.registerTensor(i,s,d),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,o),d)}else{var p=t;this.dataIdMap.set(e,{id:i,stringBytes:p,shape:a,dtype:r,memoryOffset:null,refCount:u})}},t.prototype.read=function(e){return l(this,void 0,void 0,(function(){return c(this,(function(n){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e,t,a){var r=this.dataIdMap.get(e),u=r.memoryOffset,i=r.dtype,s=r.shape,o=r.stringBytes;if("string"===i)return null!=t&&0!==t||!(null==a||a>=o.length)?o.slice(t,a):o;t=t||0,a=a||n.util.sizeFromShape(s);var d=n.util.bytesPerElement(i);return function(e,n){switch(n){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error("Unknown dtype ".concat(n))}}(this.wasm.HEAPU8.slice(u+t*d,u+a*d).buffer,i)},t.prototype.disposeData=function(e,n){if(void 0===n&&(n=!1),this.dataIdMap.has(e)){var t=this.dataIdMap.get(e);if(t.refCount--,!n&&t.refCount>0)return!1;this.wasm._free(t.memoryOffset),this.wasm.tfjs.disposeData(t.id),this.dataIdMap.delete(e)}return!0},t.prototype.refCount=function(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0},t.prototype.incRef=function(e){var n=this.dataIdMap.get(e);null!=n&&n.refCount++},t.prototype.floatPrecision=function(){return 32},t.prototype.getMemoryOffset=function(e){return this.dataIdMap.get(e).memoryOffset},t.prototype.dispose=function(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null},t.prototype.memory=function(){return{unreliable:!1}},t.prototype.makeOutput=function(e,t,a,r){var u;if(null==a)u=this.write(null!=r?r:null,e,t);else{var i=this.dataIdNextNumber++;u={id:i},this.dataIdMap.set(u,{id:i,memoryOffset:a,shape:e,dtype:t,refCount:1});var s=n.util.sizeFromShape(e);this.wasm.tfjs.registerTensor(i,s,a)}return{dataId:u,shape:e,dtype:t}},t.prototype.typedArrayFromHeap=function(e){var t=e.shape,a=e.dtype,r=e.dataId,u=this.wasm.HEAPU8.buffer,i=this.dataIdMap.get(r).memoryOffset,s=n.util.sizeFromShape(t);switch(a){case"float32":return new Float32Array(u,i,s);case"int32":return new Int32Array(u,i,s);case"bool":return new Uint8Array(u,i,s);default:throw new Error("Unknown dtype ".concat(a))}},t}(n.KernelBackend);function kr(e,n,t){if(null!=wr)return wr;var a="tfjs-backend-wasm.wasm";return e&&n?a="tfjs-backend-wasm-threaded-simd.wasm":e&&(a="tfjs-backend-wasm-simd.wasm"),null!=Mr&&null!=Mr[a]?Mr[a]:t+a}function vr(){return l(this,void 0,void 0,(function(){var e,t,a;return c(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.env().getAsync("WASM_HAS_SIMD_SUPPORT"),n.env().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")])];case 1:return e=f.apply(void 0,[r.sent(),2]),t=e[0],a=e[1],[2,new Promise((function(e,r){var u,i={locateFile:function(e,n){if(e.endsWith(".worker.js")){var r='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'.replace(/\n/g,"\\n"),u=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(u)}return e.endsWith(".wasm")?kr(t,a,null!=Sr?Sr:n):n+e}};xr&&(i.instantiateWasm=(u=kr(t,a,null!=Sr?Sr:""),function(e,t){return n.util.fetch(u,{credentials:"same-origin"}).then((function(n){n.ok||e.env.a("failed to load wasm binary file at '".concat(u,"'")),n.arrayBuffer().then((function(n){WebAssembly.instantiate(n,e).then((function(e){t(e.instance,e.module)}))}))})),{}}));var s,o=!1;i.onAbort=function(){o||Ar||(Ar=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},a&&t&&null==wr?(i.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+yr.toString()],{type:"text/javascript"}),s=yr(i)):s=_r(i),s.then((function(n){o=!0,Ar=!1,n.tfjs={init:n.cwrap("init",null,[]),initWithThreadsCount:n.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:n.cwrap("get_threads_count","number",[]),registerTensor:n.cwrap("register_tensor",null,["number","number","number"]),disposeData:n.cwrap("dispose_data",null,["number"]),dispose:n.cwrap("dispose",null,[])},e({wasm:n})})).catch(r)}))]}}))}))}var Ir=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"],wr=null,Sr=null,Mr={},Ar=!1,xr=!1,Fr=-1,Nr=-1;n.registerBackend("wasm",(function(){return l(void 0,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,vr()];case 1:return e=n.sent().wasm,[2,new gr(e)]}}))}))}),2),e.BackendWasm=gr,e.getThreadsCount=function(){if(-1===Nr)throw new Error("WASM backend not initialized.");return Nr},e.setThreadsCount=function(e){Fr=e},e.setWasmPath=function(e,t){if(void 0===t&&(t=!1),n.deprecationWarn("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),Ar)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");wr=e,xr=t},e.setWasmPaths=function(e,n){if(void 0===n&&(n=!1),Ar)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)Sr=e;else{Mr=e;var t=Ir.filter((function(e){return null==Mr[e]}));if(t.length>0)throw new Error("There were no entries found for the following binaries: "+"".concat(t.join(","),". Please either call setWasmPaths with a ")+"map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.")}xr=n},e.version_wasm="4.20.0"}));