/*! For license information please see Prelu.js.LICENSE.txt */
import{Prelu}from"@tensorflow/tfjs-core";import{cast}from"./Cast";let wasmPrelu;function setup(t){wasmPrelu=t.wasm.cwrap(Prelu,null,["number","number","number"])}function prelu(t){const{inputs:a,backend:e}=t,{x:d,alpha:r}=a,u=e.dataIdMap.get(d.dataId).id,n=e.dataIdMap.get(r.dataId).id;let p=u;const s=d;let l=s;"float32"!==s.dtype&&(l=cast({backend:e,inputs:{x:d},attrs:{dtype:"float32"}}),p=e.dataIdMap.get(l.dataId).id);const o=e.makeOutput(d.shape,"float32"),c=e.dataIdMap.get(o.dataId).id;return wasmPrelu(p,n,c),"float32"!==s.dtype&&e.disposeData(l.dataId),o}export const preluConfig={kernelName:Prelu,backendName:"wasm",setupFunc:setup,kernelFunc:prelu};